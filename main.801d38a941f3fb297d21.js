(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var r=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=r,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass}var r,n;return r=e,(n=[{key:"_showInputError",value:function(e,t){var r=this._form.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),r.textContent=t,r.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?(t.classList.add(this._inactiveButtonClass),t.disabled=!0):(t.classList.remove(this._inactiveButtonClass),t.disabled=!1)}},{key:"_setEventListeners",value:function(){var e=this,t=Array.from(this._form.querySelectorAll(this._inputSelector)),r=this._form.querySelector(this._submitButtonSelector);this._toggleButtonState(t,r),t.forEach((function(n){n.addEventListener("input",(function(){e._checkInputValidity(n),e._toggleButtonState(t,r)}))}))}},{key:"resetValidation",value:function(){var e=this,t=Array.from(this._form.querySelectorAll(this._inputSelector)),r=this._form.querySelector(this._submitButtonSelector);t.forEach((function(t){t.classList.contains(e._inputErrorClass)&&e._hideInputError(t)})),this._toggleButtonState(t,r)}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&t(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}var i=function(){function e(t,r){var n=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=n,this._containerSelector=document.querySelector(r)}var t,r;return t=e,(r=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItemAppend",value:function(e){this._containerSelector.append(e)}},{key:"addItemPrepend",value:function(e){this._containerSelector.prepend(e)}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===u(o)?o:String(o)),n)}var o}var c=function(){function e(t,r,n,o){var i=o.handleCardClick,u=o.handleRemoveCard,a=o.handleLikeSet,c=o.handleLikeRemover;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._id=t._id,this._likes=t.likes,this._owner=t.owner,this._myID=n,this._cardSelector=r,this._handleCardClick=i,this._handleRemoveCard=u,this._handleLikeSet=a,this._handleLikeRemover=c}var t,r;return t=e,r=[{key:"_getTemplateLayout",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){var e=this;this._card=this._getTemplateLayout();var t=this._card.querySelector(".element__item"),r=this._card.querySelector(".element__subject"),n=this._card.querySelector(".element__like-button_counter");return t.src=this._link,t.alt=this._name,r.textContent=this._name,n.textContent="".concat(this._likes.length),this._likes.find((function(t){return t._id===e._myID}))&&this._card.querySelector(".element__like-button").classList.add("element__like-button_active"),this._owner._id===this._myID&&this._card.querySelector(".element__trash-button").classList.add("element__trash-button_active"),this._setCardListeners(),this._card}},{key:"counterLike",value:function(e){this._card.querySelector(".element__like-button_counter").textContent=e.length}},{key:"toggleLike",value:function(){this._card.querySelector(".element__like-button").classList.toggle("element__like-button_active")}},{key:"_setLikeHandler",value:function(){this._card.querySelector(".element__like-button").classList.contains("element__like-button_active")?this._handleLikeRemover():this._handleLikeSet()}},{key:"removeCard",value:function(){this._card.remove(),this._card=null}},{key:"_setCardListeners",value:function(){var e=this;this._card.querySelector(".element__like-button").addEventListener("click",(function(){return e._setLikeHandler()})),this._card.querySelector(".element__trash-button").addEventListener("click",(function(){return e._handleRemoveCard(e._card)})),this._card.querySelector(".element__item").addEventListener("click",(function(){return e._handleCardClick()}))}}],r&&a(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===l(o)?o:String(o)),n)}var o}var f=function(){function e(t){var r=t.baseUrl,n=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=r,this._headers=n}var t,r;return t=e,(r=[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Error! : ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._handleResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._handleResponse)}},{key:"patchUserProfile",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._handleResponse)}},{key:"patchAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})}).then(this._handleResponse)}},{key:"postUserCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._handleResponse)}},{key:"putLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._handleResponse)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===p(o)?o:String(o)),n)}var o}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._handleEscClose=this._handleEscClose.bind(this),this._handleOverlayClose=this._handleOverlayClose.bind(this),this._submitButton=this._popup.querySelector(".popup__button_active_submit")}var t,r;return t=e,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),document.addEventListener("click",this._handleOverlayClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),document.removeEventListener("click",this._handleOverlayClose)}},{key:"_handleEscClose",value:function(e){"Escape"!==e.key&&"Esc"!==e.key||this.close()}},{key:"_handleOverlayClose",value:function(e){e.target.classList.contains("popup")&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__close").addEventListener("click",(function(){return e.close()}))}},{key:"loaderHandler",value:function(e){this._submitButton.textContent=e}}])&&y(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===d(o)?o:String(o)),n)}var o}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},m.apply(this,arguments)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(o){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e,t){var r,n=t.submitForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,e))._submitForm=n,r}return t=u,(r=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=Array.from(this._popup.querySelectorAll(".popup__input")),this._formValue={},this._inputList.forEach((function(t){e._formValue[t.name]=t.value})),this._formValue}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("submit",(function(t){t.preventDefault(),e.loaderHandler("Сохранение..."),e._submitForm(e._getInputValues())})),m(b(u.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){m(b(u.prototype),"close",this).call(this),this._popup.querySelector(".popup__form").reset()}},{key:"open",value:function(){m(b(u.prototype),"open",this).call(this),this.loaderHandler("Сохранить")}}])&&v(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(h);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===g(o)?o:String(o)),n)}var o}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},w.apply(this,arguments)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(n);if(o){var r=O(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._title=t._popup.querySelector(".popup__item-subject"),t._image=t._popup.querySelector(".popup__item"),t}return t=u,(r=[{key:"open",value:function(e,t){w(O(u.prototype),"open",this).call(this),this._title.textContent=e,this._image.alt=e,this._image.src=t}}])&&k(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(h);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===C(o)?o:String(o)),n)}var o}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},L.apply(this,arguments)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(n);if(o){var r=q(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._submitButton=t._popup.querySelector(".popup__button_active_submit"),t}return t=u,(r=[{key:"setEventListeners",value:function(){var e=this;this._submitButton.addEventListener("click",(function(t){t.preventDefault(),e.loaderHandler("Удаление..."),e._handleSubmit(),e.close()})),L(q(u.prototype),"setEventListeners",this).call(this)}},{key:"setHandleSubmit",value:function(e){this._handleSubmit=e}},{key:"open",value:function(){this.loaderHandler("Да"),L(q(u.prototype),"open",this).call(this)}}])&&P(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(h);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==T(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===T(o)?o:String(o)),n)}var o}var A=function(){function e(t){var r=t.name,n=t.about,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=r,this._profileJob=n,this._userAvatar=o}var t,r;return t=e,(r=[{key:"getUserInfo",value:function(){return{name:this._profileName.textContent,about:this._profileJob.textContent,avatar:this._userAvatar.src}}},{key:"setUserInfo",value:function(e){this._profileName.textContent=e.name,this._profileJob.textContent=e.about,this._userAvatar.src=e.avatar}},{key:"setUserAvatar",value:function(e){this._userAvatar.src=e.avatar}}])&&U(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),B={formSelector:".popup__form",inputSelector:".popup__input",errorSelector:".popup__input-error",submitButtonSelector:".popup__button_active_submit",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},x=document.querySelector(".popup__form_profile"),V=document.querySelector(".popup__form_element"),D=document.querySelector(".popup__form_avatar"),H=document.querySelector(".popup_profile"),F=document.querySelector(".popup_element"),N=document.querySelector(".popup_img"),J=document.querySelector(".popup_avatar"),M=document.querySelector(".popup_delete-card"),z=document.querySelector(".popup__input_profile_name"),$=document.querySelector(".popup__input_profile_title"),G=document.querySelector(".profile__button_active_edit"),K=document.querySelector(".profile__button_active_add"),Q=document.querySelector(".profile__avatar-container"),W={name:document.querySelector(".profile__name"),about:document.querySelector(".profile__definition"),avatar:document.querySelector(".profile__avatar")};function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y=new r(B,x);Y.enableValidation();var Z=new r(B,V);Z.enableValidation();var ee=new r(B,D);ee.enableValidation();var te=new A(W),re=new f({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-60",headers:{authorization:"3aa61c49-fdf8-469f-ac89-ecfdfa4ec988","Content-Type":"application/json"}}),ne=new S(F,{submitForm:function(e){re.postUserCard(e).then((function(e){createCard(e,!1),ne.close()})).catch((function(e){console.log(e)}))}});Promise.all([re.getUserInfo(),re.getInitialCards()]).then((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],u=n[1];te.setUserInfo(o);var a=o._id,l=new S(F,{submitForm:function(e){re.postUserCard(e).then((function(e){f(e,!1),l.close()})).catch((function(e){console.log(e)}))}}),s=new i({renderer:function(e){return f(e,!0)}},".elements");function f(e,t){var r=new c(e,"#card-template",a,{handleCardClick:function(){oe.open(e.name,e.link)},handleRemoveCard:function(){ae.open(),ae.setHandleSubmit((function(){re.deleteCard(r._id).then((function(){r.removeCard()})).catch((function(e){console.log(e)}))}))},handleLikeSet:function(){re.putLike(e._id).then((function(e){r.counterLike(e.likes),r.toggleLike()})).catch((function(e){console.log(e)}))},handleLikeRemover:function(){re.deleteLike(e._id).then((function(e){r.counterLike(e.likes),r.toggleLike()})).catch((function(e){console.log(e)}))}});!0===t?s.addItemAppend(r.generateCard()):s.addItemPrepend(r.generateCard())}s.renderItems(u),l.setEventListeners()})).catch((function(e){return console.log(e)}));var oe=new j(N);oe.setEventListeners();var ie=new S(J,{submitForm:function(e){re.patchAvatar(e).then((function(e){te.setUserAvatar(e),ie.close()})).catch((function(e){console.log(e)}))}});ie.setEventListeners();var ue=new S(H,{submitForm:function(e){re.patchUserProfile(e).then((function(e){te.setUserInfo(e),ue.close()})).catch((function(e){console.log(e)}))}});ue.setEventListeners();var ae=new I(M);ae.setEventListeners(),G.addEventListener("click",(function(){var e=te.getUserInfo();z.value=e.name,$.value=e.about,Y.resetValidation(),ue.open()})),K.addEventListener("click",(function(){Z.resetValidation(),ne.open()})),Q.addEventListener("click",(function(){ee.resetValidation(),ie.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNMb0UsR0FBZ0JjLFlBQVlsRixHQUM1QnlHLEdBQVloRixPQUNkLElBQ0NpRCxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQ2QsR0FDTixJQUdGOEIsR0FBWUosb0JBRVosSUFBTVosR0FBbUIsSUFBSWhELEVBQXNCZ0IsR0FDbkRnQyxHQUFpQlksb0JBRWpCekMsRUFBa0J2SCxpQkFBaUIsU0FBUyxXQUMxQyxJQUFNc0ssRUFBVXZDLEdBQWdCVyxjQUNoQ3JCLEVBQVV6QixNQUFRMEUsRUFBUTlJLEtBQzFCOEYsRUFBUzFCLE1BQVEwRSxFQUFROUYsTUFDekJtRCxFQUFzQjRDLGtCQUN0QkgsR0FBWWpCLE1BQ2QsSUFFQTNCLEVBQWN4SCxpQkFBaUIsU0FBUyxXQUN0QzZILEVBQW1CMEMsa0JBQ25CckMsR0FBaUJpQixNQUNuQixJQUVBMUIsRUFBaUJ6SCxpQkFBaUIsU0FBUyxXQUN6QzhILEdBQXFCeUMsa0JBQ3JCTixHQUFnQmQsTUFDbEIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy92YXJpYWJsZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IgKHZhbGlkYXRpb25Db25maWcsIGZvcm0pIHtcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gdmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gdmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzc1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH07XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkID9cbiAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpIDpcbiAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgfTtcbiAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XG4gIH07XG4gIF90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9O1xuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIGlucHV0TGlzdC5mb3JFYWNoKGlucHV0RWxlbWVudCA9PiB7XG4gICAgICBpZiAoaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpKSB7XG4gICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcbiAgfTtcblxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKXtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO31cblxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yICh7cmVuZGVyZXJ9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtQXBwZW5kKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXJTZWxlY3Rvci5hcHBlbmQoZWxlbWVudCk7XG4gIH1cblxuICBhZGRJdGVtUHJlcGVuZChlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyU2VsZWN0b3IucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuXG5cbi8vINC60LvQsNGB0YEg0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINC+0YLRgNC40YHQvtCy0LrRgyDRjdC70LXQvNC10L3RgtC+0LIg0L3QsCDRgdGC0YDQsNC90LjRhtC1XG4vLyAxLdC5INC/0LDRgNCw0LzQtdGC0YAg0LrQvtC90YHRgtGA0YPQutGC0L7RgNCwIC0tINC+0LHRitC10LrRgiDRgSDQtNCy0YPQvNGPINGB0LLQvtC50YHRgtCy0LDQvNC4OiBpdGVtcyDQuCByZW5kZXJlclxuLy8gaXRlbXMgLS0g0LzQsNGB0YHQuNCyINC00LDQvdC90YvRhSwg0LrQvtGC0L7RgNGL0LUg0L3Rg9C20L3QviDQtNC+0LHQsNCy0LjRgtGMINC90LAg0YHRgtGA0LDQvdC40YbRgyDQv9GA0Lgg0LjQvdC40YbQuNCw0LvQuNC30LDRhtC40Lgg0LrQu9Cw0YHRgdCwXG4vLyByZW5kZXJlciAtLSDRhNGD0L3QutGG0LjRjywg0LrQvtGC0L7RgNCw0Y8g0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINGB0L7Qt9C00LDQvdC40LUg0Lgg0L7RgtGA0LjRgdC+0LLQutGDINC00LDQvdC90YvRhSDQvdCwINGB0YLRgNCw0L3QuNGG0LVcbi8vIDIt0Lkg0L/QsNGA0LDQvNC10YLRgCAtLSDRgdC10LvQtdC60YLQvtGAINC60L7QvdGC0LXQudC90LXRgNCwLCDQsiDQutC+0YLQvtGA0YvQuSDQvdGD0LbQvdC+INC00L7QsdCw0LLQu9GP0YLRjCDRgdC+0LfQtNCw0L3QvdGL0LUg0Y3Qu9C10LzQtdC90YLRi1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yIChkYXRhLCBjYXJkU2VsZWN0b3IsIG15SUQsIHtoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZVJlbW92ZUNhcmQsIGhhbmRsZUxpa2VTZXQsIGhhbmRsZUxpa2VSZW1vdmVyfSkge1xuXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuX293bmVyID0gZGF0YS5vd25lcjtcbiAgICB0aGlzLl9teUlEID0gbXlJRDtcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQgPSBoYW5kbGVSZW1vdmVDYXJkO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VTZXQgPSBoYW5kbGVMaWtlU2V0O1xuICAgIHRoaXMuX2hhbmRsZUxpa2VSZW1vdmVyID0gaGFuZGxlTGlrZVJlbW92ZXJcblxuICB9XG5cbiAgX2dldFRlbXBsYXRlTGF5b3V0ICgpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZUVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxuICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiB0ZW1wbGF0ZUVsZW1lbnQ7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZCA9IHRoaXMuX2dldFRlbXBsYXRlTGF5b3V0KCk7XG4gICAgY29uc3QgcG9wdXBJbWFnZSA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2l0ZW0nKVxuICAgIGNvbnN0IHBvcHVwSW1hZ2VUZXh0ID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fc3ViamVjdCcpXG4gICAgY29uc3QgbGlrZUNvdW50ZXIgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ1dHRvbl9jb3VudGVyJylcblxuICAgIHBvcHVwSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICBwb3B1cEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgcG9wdXBJbWFnZVRleHQudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIGxpa2VDb3VudGVyLnRleHRDb250ZW50ID0gYCR7dGhpcy5fbGlrZXMubGVuZ3RofWA7XG5cbiAgICBpZiAodGhpcy5fbGlrZXMuZmluZCgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX215SUQpKSB7XG4gICAgICB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ1dHRvbicpLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICAgIH07XG5cblxuICAgIGlmICh0aGlzLl9vd25lci5faWQgPT09IHRoaXMuX215SUQpIHtcbiAgICAgIHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RyYXNoLWJ1dHRvbicpLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX3RyYXNoLWJ1dHRvbl9hY3RpdmUnKVxuICAgIH1cblxuICAgIHRoaXMuX3NldENhcmRMaXN0ZW5lcnMoKVxuICAgIHJldHVybiB0aGlzLl9jYXJkO1xuICB9XG5cbiAgY291bnRlckxpa2UobGlrZUFycmF5KSB7XG4gICAgY29uc3QgY291bnRlclZhbHVlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1idXR0b25fY291bnRlcicpXG4gICAgY291bnRlclZhbHVlLnRleHRDb250ZW50ID0gbGlrZUFycmF5Lmxlbmd0aDtcbiAgfVxuXG5cbiAgdG9nZ2xlTGlrZSgpIHsgIC8vINGB0LzQtdC90LAg0YHQvtGB0YLQvtGP0L3QuNGPINC60L3QvtC/0LrQuFxuICAgIHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtYnV0dG9uJykuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XG4gIH1cblxuICBfc2V0TGlrZUhhbmRsZXIoKSB7XG4gICAgY29uc3QgdXNlckxpa2UgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ1dHRvbicpO1xuICAgIGlmICh1c2VyTGlrZS5jbGFzc0xpc3QuY29udGFpbnMoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpKSB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlUmVtb3ZlcigpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VTZXQoKX1cbiAgfVxuXG4gIHJlbW92ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkID0gbnVsbDtcbiAgfVxuXG4gIF9zZXRDYXJkTGlzdGVuZXJzICgpIHtcbiAgICB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5fc2V0TGlrZUhhbmRsZXIoKSk7XG4gICAgdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdHJhc2gtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVSZW1vdmVDYXJkKHRoaXMuX2NhcmQpKTtcbiAgICB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pdGVtJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpID0+IHRoaXMuX2hhbmRsZUNhcmRDbGljaygpKTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gICAgY29uc3RydWN0b3Ioe2Jhc2VVcmwsIGhlYWRlcnN9KSB7XG4gICAgICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgICAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgICB9XG5cbiAgICAvLyDQvtCx0YDQsNCx0L7RgtGH0LjQuiDRgNC10YHQv9C+0L3RgdC+0LIg0YHQtdGA0LLQtdGA0LBcbiAgICBfaGFuZGxlUmVzcG9uc2UocmVzKXtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yISA6ICR7cmVzLnN0YXR1c31gKVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyDQv9C+0LvRg9GH0LXQvdC40LUg0L3QsNGH0LDQu9GM0L3Ri9GFINC00LDQvdC90YvRhSDQvtGCINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcbiAgICB9XG5cblxuICAgIC8vINC/0L7Qu9GD0YfQtdC90LjQtSDRgdC10YDQstC10YDQvdGL0YUg0LrQsNGA0YLQvtGH0LXQulxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXG4gICAgfVxuXG4gICAgLy/Rg9GB0YLQsNC90L7QstC60LAg0LTQsNC90L3Ri9GFINC/0YDQvtGE0LjQu9GPXG4gICAgcGF0Y2hVc2VyUHJvZmlsZShkYXRhKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGFib3V0OiBkYXRhLmFib3V0XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcbiAgICB9XG5cbiAgICAvLyDRgdC80LXQvdCwINCw0LLQsNGC0LDRgNCwXG4gICAgcGF0Y2hBdmF0YXIoYXZhdGFyKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCAge1xuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBhdmF0YXI6IGF2YXRhci5saW5rXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXG4gICAgfVxuXG4gICAgcG9zdFVzZXJDYXJkKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwgIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgbGluazogaXRlbS5saW5rXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXG4gICAgfVxuXG4gICAgLy8g0LvQsNC50LpcbiAgICBwdXRMaWtlKGlkKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2lkfWAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXG4gICAgfVxuXG4gICAgLy8g0YPQtNCw0LvQuNGC0Ywg0LvQsNC50LpcbiAgICBkZWxldGVMaWtlKGlkKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2lkfWAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXG4gICAgfVxuXG4gICAgLy8g0YPQtNCw0LvQuNGC0Ywg0LrQsNGA0YLQvtGH0LrRg1xuICAgIGRlbGV0ZUNhcmQoaWQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwgIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXG4gICAgfVxuXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3RvciAocG9wdXBFbGVtZW50KSB7XG4gICAgdGhpcy5fcG9wdXAgPSBwb3B1cEVsZW1lbnQ7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlPSB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UuYmluZCh0aGlzKVxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uX2FjdGl2ZV9zdWJtaXQnKVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJyx0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyx0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UpO1xuXG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnIHx8IGV2dC5rZXkgPT09IFwiRXNjXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVPdmVybGF5Q2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSlcblxuICB9XG5cbiAgbG9hZGVySGFuZGxlcih0ZXh0TWVzc2FnZSkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHRNZXNzYWdlXG4gIH1cblxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBFbGVtZW50LCB7c3VibWl0Rm9ybX0pIHtcbiAgICBzdXBlcihwb3B1cEVsZW1lbnQpO1xuICAgIHRoaXMuX3N1Ym1pdEZvcm0gPSBzdWJtaXRGb3JtO1xuICB9XG5cbi8v0LzQtdGC0L7QtCDRgdC+0LHQuNGA0LDQtdGCINCy0YHQtSDQv9C+0LvRjyDRhNC+0YDQvNGLXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKSk7XG4gICAgdGhpcy5fZm9ybVZhbHVlID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVbaXRlbS5uYW1lXSA9IGl0ZW0udmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmxvYWRlckhhbmRsZXIoJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJyk7XG4gICAgICB0aGlzLl9zdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpXG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJykucmVzZXQoKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMubG9hZGVySGFuZGxlcign0KHQvtGF0YDQsNC90LjRgtGMJyk7XG4gIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cEVsZW1lbnQpe1xuICAgIHN1cGVyKHBvcHVwRWxlbWVudCk7XG4gICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2l0ZW0tc3ViamVjdCcpO1xuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pdGVtJyk7XG4gIH1cblxuICBvcGVuKG5hbWUsIGxpbmspe1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yIChwb3B1cEVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIocG9wdXBFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b25fYWN0aXZlX3N1Ym1pdCcpXG4gICAgfVxuXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5sb2FkZXJIYW5kbGVyKCfQo9C00LDQu9C10L3QuNC1Li4uJyk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgc2V0SGFuZGxlU3VibWl0KGZ1bmMpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0ID0gZnVuYztcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgICB0aGlzLmxvYWRlckhhbmRsZXIoJ9CU0LAnKTtcbiAgICAgICAgc3VwZXIub3BlbigpO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgYWJvdXQsIGF2YXRhciB9KSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBuYW1lO1xuICAgIHRoaXMuX3Byb2ZpbGVKb2IgPSBhYm91dDtcbiAgICB0aGlzLl91c2VyQXZhdGFyID0gYXZhdGFyO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX3VzZXJBdmF0YXIuc3JjXG4gICAgfVxuICB9XG5cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICAgIHRoaXMuX3VzZXJBdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XG4gIH1cblxuICBzZXRVc2VyQXZhdGFyKGRhdGEpIHtcbiAgICB0aGlzLl91c2VyQXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBlcnJvclNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXQtZXJyb3JcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25fYWN0aXZlX3N1Ym1pdFwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxufTtcblxuXG4vLyDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4XG5leHBvcnQgY29uc3QgcG9wdXBGb3JtUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9wcm9maWxlJyk7XG5leHBvcnQgY29uc3QgcG9wdXBGb3JtQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9lbGVtZW50Jyk7XG5leHBvcnQgY29uc3QgcG9wdXBGb3JtQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX2F2YXRhcicpXG5cbi8vcG9wdXBzIHNlY3Rpb25cbmV4cG9ydCBjb25zdCBwb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfcHJvZmlsZScpO1xuZXhwb3J0IGNvbnN0IHBvcHVwQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9lbGVtZW50Jyk7XG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9pbWcnKTtcbmV4cG9ydCBjb25zdCBwb3B1cEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9hdmF0YXInKVxuZXhwb3J0IGNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9kZWxldGUtY2FyZCcpXG5cbi8vINC40L3Qv9GD0YLRi1xuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfcHJvZmlsZV9uYW1lJyk7XG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3Byb2ZpbGVfdGl0bGUnKTtcblxuLy8g0LrQvdC+0L/QutC4XG5leHBvcnQgY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYnV0dG9uX2FjdGl2ZV9lZGl0Jyk7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b25fYWN0aXZlX2FkZCcpO1xuZXhwb3J0IGNvbnN0IGF2YXRhckVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLWNvbnRhaW5lcicpXG5cbi8vINC/0YDQvtGE0LDQudC7XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZGVmaW5pdGlvbicpO1xuZXhwb3J0IGNvbnN0IHVzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJylcblxuXG5cbmV4cG9ydCBjb25zdCB1c2VyU2V0dGluZyA9IHtcbiAgbmFtZTogcHJvZmlsZU5hbWUsXG4gIGFib3V0OiBwcm9maWxlSm9iLFxuICBhdmF0YXI6IHVzZXJBdmF0YXJcbn1cblxuZXhwb3J0IGNvbnN0IGFwaUNvbmZpZyA9IHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjAnLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJzNhYTYxYzQ5LWZkZjgtNDY5Zi1hYzg5LWVjZmRmYTRlYzk4OCcsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9XG59IiwiXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IHtcbiAgY29uZmlnLFxuICBwb3B1cEZvcm1Qcm9maWxlLFxuICBwb3B1cEZvcm1DYXJkLFxuICBwb3B1cEZvcm1BdmF0YXIsXG4gIHVzZXJTZXR0aW5nLFxuICBwb3B1cEltYWdlLFxuICBwb3B1cEF2YXRhcixcbiAgcG9wdXBEZWxldGVDYXJkLFxuICBlZGl0UHJvZmlsZUJ1dHRvbixcbiAgcG9wdXBQcm9maWxlLFxuICBuYW1lSW5wdXQsXG4gIGpvYklucHV0LFxuICBhZGRDYXJkQnV0dG9uLFxuICBwb3B1cENhcmQsXG4gIGFwaUNvbmZpZyxcbiAgYXZhdGFyRWRpdEJ1dHRvblxufSBmcm9tICcuLi91dGlscy92YXJpYWJsZS5qcydcblxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cblxuY29uc3QgdmFsaWRhdGlvbkZvcm1Qcm9maWxlPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHBvcHVwRm9ybVByb2ZpbGUpO1xudmFsaWRhdGlvbkZvcm1Qcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNvbnN0IHZhbGlkYXRpb25Gb3JtQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgcG9wdXBGb3JtQ2FyZCk7XG52YWxpZGF0aW9uRm9ybUNhcmQuZW5hYmxlVmFsaWRhdGlvbigpO1xuY29uc3QgdmFsaWRhdGlvbkZvcm1BdmF0YXIgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHBvcHVwRm9ybUF2YXRhcik7XG52YWxpZGF0aW9uRm9ybUF2YXRhci5lbmFibGVWYWxpZGF0aW9uKClcblxuXG5jb25zdCB1c2VySW5mb1Byb2ZpbGUgPSBuZXcgVXNlckluZm8odXNlclNldHRpbmcpO1xuY29uc3QgYXBpID0gbmV3IEFwaShhcGlDb25maWcpO1xuXG5cbmNvbnN0IHBvcHVwV2l0aEFkZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cENhcmQsIHtcbiAgc3VibWl0Rm9ybTogKGl0ZW0pID0+IHtcbiAgICBhcGkucG9zdFVzZXJDYXJkKGl0ZW0pXG4gICAgICAgIC50aGVuKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBjcmVhdGVDYXJkKGl0ZW0sIGZhbHNlKVxuICAgICAgICAgIHBvcHVwV2l0aEFkZEZvcm0uY2xvc2UoKVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pXG4gIH1cbn0pXG5cblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcbiAgICAudGhlbigoW3VzZXJEYXRhLCByZXNdKSA9PiB7XG4gICAgICB1c2VySW5mb1Byb2ZpbGUuc2V0VXNlckluZm8odXNlckRhdGEpO1xuICAgICAgY29uc3QgbXlJRCA9IHVzZXJEYXRhLl9pZFxuXG4gICAgICBjb25zdCBvcGVuUG9wdXBQbGFjZUFkZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwQ2FyZCwge1xuICAgICAgICBzdWJtaXRGb3JtOiAoaXRlbSkgPT4ge1xuICAgICAgICAgIGFwaS5wb3N0VXNlckNhcmQoaXRlbSlcbiAgICAgICAgICAgICAgLnRoZW4oKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBjcmVhdGVDYXJkKGl0ZW0sIGZhbHNlKVxuICAgICAgICAgICAgICAgIG9wZW5Qb3B1cFBsYWNlQWRkLmNsb3NlKClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBjb25zdCBjYXJkcyA9IG5ldyBTZWN0aW9uKHtcbiAgICAgICAgcmVuZGVyZXI6IChpdGVtID0+IGNyZWF0ZUNhcmQoaXRlbSwgdHJ1ZSkpXG4gICAgICB9LCAnLmVsZW1lbnRzJyk7XG4gICAgICBjYXJkcy5yZW5kZXJJdGVtcyhyZXMpO1xuXG5cbiAgICAgIG9wZW5Qb3B1cFBsYWNlQWRkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNhcmQoaXRlbSwgYm9vbGVhbikge1xuICAgICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgJyNjYXJkLXRlbXBsYXRlJywgbXlJRCwge1xuXG4gICAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKGl0ZW0ubmFtZSwgaXRlbS5saW5rKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgaGFuZGxlUmVtb3ZlQ2FyZDogKCkgPT4ge1xuICAgICAgICAgICAgb3BlblBvcHVwQ29uZmlybS5vcGVuKCk7XG4gICAgICAgICAgICBvcGVuUG9wdXBDb25maXJtLnNldEhhbmRsZVN1Ym1pdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBhcGkuZGVsZXRlQ2FyZChjYXJkLl9pZClcbiAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkLnJlbW92ZUNhcmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgaGFuZGxlTGlrZVNldDogKCkgPT4ge1xuICAgICAgICAgICAgYXBpLnB1dExpa2UoaXRlbS5faWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgIGNhcmQuY291bnRlckxpa2UoaXRlbS5saWtlcyk7XG4gICAgICAgICAgICAgICAgICBjYXJkLnRvZ2dsZUxpa2UoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGhhbmRsZUxpa2VSZW1vdmVyOiAoKSA9PiB7XG4gICAgICAgICAgICBhcGkuZGVsZXRlTGlrZShpdGVtLl9pZClcbiAgICAgICAgICAgICAgICAudGhlbigoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY2FyZC5jb3VudGVyTGlrZShpdGVtLmxpa2VzKTtcbiAgICAgICAgICAgICAgICAgIGNhcmQudG9nZ2xlTGlrZSgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuXG4gICAgICAgIH0pXG4gICAgICAgIGlmIChib29sZWFuID09PSB0cnVlKSB7Y2FyZHMuYWRkSXRlbUFwcGVuZChjYXJkLmdlbmVyYXRlQ2FyZCgpKX1cbiAgICAgICAgZWxzZSBjYXJkcy5hZGRJdGVtUHJlcGVuZChjYXJkLmdlbmVyYXRlQ2FyZCgpKVxuXG4gICAgICB9XG5cbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcblxuXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cEltYWdlKTtcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IG9wZW5Qb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwQXZhdGFyLCB7XG4gIHN1Ym1pdEZvcm06IChpdGVtKSA9PiB7XG4gICAgYXBpLnBhdGNoQXZhdGFyKGl0ZW0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgdXNlckluZm9Qcm9maWxlLnNldFVzZXJBdmF0YXIoZGF0YSk7XG4gICAgICAgICAgb3BlblBvcHVwQXZhdGFyLmNsb3NlKClcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KVxuICB9XG59KVxub3BlblBvcHVwQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHByb2ZpbGVGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBQcm9maWxlLCB7XG4gIHN1Ym1pdEZvcm06IChpdGVtKSA9PiB7XG4gICAgYXBpLnBhdGNoVXNlclByb2ZpbGUoaXRlbSlcbiAgICAgICAgLnRoZW4oKHJlcyk9PiB7XG4gICAgICAgICAgdXNlckluZm9Qcm9maWxlLnNldFVzZXJJbmZvKHJlcylcbiAgICAgICAgICBwcm9maWxlRm9ybS5jbG9zZSgpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSlcbiAgfVxufSlcblxucHJvZmlsZUZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3Qgb3BlblBvcHVwQ29uZmlybSA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24ocG9wdXBEZWxldGVDYXJkKVxub3BlblBvcHVwQ29uZmlybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5lZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgcHJvZmlsZSA9IHVzZXJJbmZvUHJvZmlsZS5nZXRVc2VySW5mbygpO1xuICBuYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlLm5hbWU7XG4gIGpvYklucHV0LnZhbHVlID0gcHJvZmlsZS5hYm91dDtcbiAgdmFsaWRhdGlvbkZvcm1Qcm9maWxlLnJlc2V0VmFsaWRhdGlvbigpXG4gIHByb2ZpbGVGb3JtLm9wZW4oKTtcbn0pO1xuXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICB2YWxpZGF0aW9uRm9ybUNhcmQucmVzZXRWYWxpZGF0aW9uKClcbiAgcG9wdXBXaXRoQWRkRm9ybS5vcGVuKCk7XG59KVxuXG5hdmF0YXJFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICB2YWxpZGF0aW9uRm9ybUF2YXRhci5yZXNldFZhbGlkYXRpb24oKVxuICBvcGVuUG9wdXBBdmF0YXIub3BlbigpXG59KTtcblxuLy8vINC30LDQvNC10YLQutC4INC90LAg0L/QvtC70Y/RhTpcblxuLyrQnNC10YLQvtC0IEVsZW1lbnQuY2xvc2VzdCgpINCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINCx0LvQuNC20LDQudGI0LjQuSDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0Y3Qu9C10LzQtdC90YIgKNC40LvQuCDRgdCw0Lwg0Y3Qu9C10LzQtdC90YIpLFxuINC60L7RgtC+0YDRi9C5INGB0L7QvtGC0LLQtdGC0YHRgtCy0YPQtdGCINC30LDQtNCw0L3QvdC+0LzRgyBDU1Mt0YHQtdC70LXQutGC0L7RgNGDINC40LvQuCBudWxsLCDQtdGB0LvQuCDRgtCw0LrQvtCy0YvRhSDRjdC70LXQvNC10L3RgtC+0LIg0LLQvtC+0LHRidC1INC90LXRgi4qL1xuXG4vKtCc0LXRgtC+0LQgcHJlcGVuZCDQv9C+0LfQstC+0LvRj9C10YIg0LLRgdGC0LDQstC40YLRjCDQsiDQvdCw0YfQsNC70L4g0LrQsNC60L7Qs9C+LdC70LjQsdC+INGN0LvQtdC80LXQvdGC0LAg0LTRgNGD0LPQvtC5INGN0LvQtdC80LXQvdGCLiBcbtCf0LDRgNCw0LzQtdGC0YDQvtC8INC80LXRgtC+0LQg0L/RgNC40L3QuNC80LDQtdGCINGN0LvQtdC80LXQvdGCLCDQutCw0Log0L/RgNCw0LLQuNC70L4g0YHQvtC30LTQsNC90L3Ri9C5INGH0LXRgNC10LcgY3JlYXRlRWxlbWVudCwg0LvQuNCx0L4g0YHRgtGA0L7QutGDLlxuINCc0L7QttC90L4g0LTQvtCx0LDQstC40YLRjCDRgdGA0LDQt9GDINC90LXRgdC60L7Qu9GM0LrQviDRjdC70LXQvNC10L3RgtC+0LIg0LjQu9C4INGB0YLRgNC+0LosINC/0LXRgNC10YfQuNGB0LvQuNCyINC40YUg0YfQtdGA0LXQtyDQt9Cw0L/Rj9GC0YPRji4qL1xuXG4vKiDQnNC10YLQvtC0IEVsZW1lbnQuYXBwZW5kKCkg0LLRgdGC0LDQstC70Y/QtdGCINGD0LfQu9GLINC40LvQuCDRgdGC0YDQvtC60Lgg0YEg0YLQtdC60YHRgtC+0Lwg0LIg0LrQvtC90LXRhiBFbGVtZW50LiBcbtCh0YLRgNC+0LrQuCDRgSDRgtC10LrRgdGC0L7QvCDQstGB0YLQsNCy0LvRj9GO0YLRgdGPINC60LDQuiDRgtC10LrRgdGC0L7QstC+0LUg0YHQvtC00LXRgNC20LjQvNC+0LUuICovXG5cbi8qINCc0LXRgtC+0LQgLmNsb25lTm9kZSgpINC+0LHRitC10LrRgtCwIE5vZGUg0YHQvtC30LTQsNC10YIg0Lgg0LLQvtC30LLRgNCw0YnQsNC10YIg0LrQvtC/0LjRjiDRg9C30LvQsCwg0LTQu9GPINC60L7RgtC+0YDQvtCz0L4g0L7QvSDQsdGL0Lsg0LLRi9C30LLQsNC9LiovXG5cbi8qIHNldEF0dHJpYnV0ZSDQt9Cw0LTQsNC10YIg0LfQvdCw0YfQtdC90LjQtSDQsNGC0YDQuNCx0YPRgtCwINGD0LrQsNC30LDQvdC90L7Qs9C+INGN0LvQtdC80LXQvdGC0LAuXG4gINCV0YHQu9C4INCw0YLRgNC40LHRg9GCINGD0LbQtSDRgdGD0YnQtdGB0YLQstGD0LXRgiwg0LfQvdCw0YfQtdC90LjQtSDQvtCx0L3QvtCy0LvRj9C10YLRgdGPOyBcbiAg0LIg0L/RgNC+0YLQuNCy0L3QvtC8INGB0LvRg9GH0LDQtSDQtNC+0LHQsNCy0LvRj9C10YLRgdGPINC90L7QstGL0Lkg0LDRgtGA0LjQsdGD0YIg0YEg0YPQutCw0LfQsNC90L3Ri9C8INC40LzQtdC90LXQvCDQuCDQt9C90LDRh9C10L3QuNC10LwuKi9cblxuLyog0JzQtdGC0L7QtCBhZGRFdmVudExpc3RlbmVyKCkg0L/QvtC30LLQvtC70Y/QtdGCINC00L7QsdCw0LLQu9GP0YLRjCDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INGB0L7QsdGL0YLQuNC5INC6INC70Y7QsdC+0LzRgyDQvtCx0YrQtdC60YLRgyAqL1xuXG4vKtCV0YHQu9C4INC60LvQsNGB0YEg0YPCoNGN0LvQtdC80LXQvdGC0LAg0LXRgdGC0YwsINC80LXRgtC+0LQgY2xhc3NMaXN0LnRvZ2dsZSDQstC10LTRkdGCINGB0LXQsdGPINC60LDQuiBjbGFzc0xpc3QucmVtb3ZlINC4wqDQutC70LDRgdGBINGDwqDRjdC70LXQvNC10L3RgtCwINGD0LHQuNGA0LDQtdGCLiBcbtCQwqDQtdGB0LvQuCDRg9C60LDQt9Cw0L3QvdC+0LPQviDQutC70LDRgdGB0LAg0YPCoNGN0LvQtdC80LXQvdGC0LAg0L3QtdGCLCDRgtC+wqBjbGFzc0xpc3QudG9nZ2xlLCDQutCw0Log0LjCoGNsYXNzTGlzdC5hZGQsINC00L7QsdCw0LLQu9GP0LXRgiDRjdC70LXQvNC10L3RgtGDINGN0YLQvtGCINC60LvQsNGB0YEuKi9cblxuLyog0JzQtdGC0L7QtCBwcmV2ZW50RGVmYXVsdCAoKSDQuNC90YLQtdGA0YTQtdC50YHQsCBFdmVudCDRgdC+0L7QsdGJ0LDQtdGCIFVzZXIgYWdlbnQsINGH0YLQviDQtdGB0LvQuCDRgdC+0LHRi9GC0LjQtSDQvdC1INC+0LHRgNCw0LHQsNGC0YvQstCw0LXRgtGB0Y8g0Y/QstC90L4sXG4gINC10LPQviDQtNC10LnRgdGC0LLQuNC1INC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOINC90LUg0LTQvtC70LbQvdC+INCy0YvQv9C+0LvQvdGP0YLRjNGB0Y8g0YLQsNC6LCDQutCw0Log0L7QsdGL0YfQvdC+LiovXG5cbi8qIC50ZXh0Q29udGVudCDQv9C+0LfQstC+0LvRj9C10YIg0LfQsNC00LDQstCw0YLRjCDQuNC70Lgg0L/QvtC70YPRh9Cw0YLRjCDRgtC10LrRgdGC0L7QstC+0LUg0YHQvtC00LXRgNC20LjQvNC+0LUg0Y3Qu9C10LzQtdC90YLQsCDQuCDQtdCz0L4g0L/QvtGC0L7QvNC60L7Qsi4qL1xuXG4vKiDQodCy0L7QudGB0YLQstC+IHZhbHVlINGD0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINC40LvQuCDQstC+0LfQstGA0LDRidCw0LXRgiDQt9C90LDRh9C10L3QuNC1INCw0YLRgNC40LHRg9GC0LAuKi9cblxuLyog0JzQtdGC0L7QtCBmb3JFYWNoKCkg0LLRi9C30YvQstCw0LXRgiDRhNGD0L3QutGG0LjRjiDQvtC00LjQvSDRgNCw0Lcg0LTQu9GPINC60LDQttC00L7Qs9C+INGN0LvQtdC80LXQvdGC0LAg0LzQsNGB0YHQuNCy0LAg0L/QviDQv9C+0YDRj9C00LrRgy4qL1xuXG4vKiBleHRlbmRzIC0tINCa0LvRjtGH0LXQstC+0LUg0YHQu9C+0LLQviBleHRlbmRzINC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQsiDQvtCx0YrRj9Cy0LvQtdC90LjQuCDQutC70LDRgdGB0LAg0LjQu9C4INCyINCy0YvRgNCw0LbQtdC90LjRj9GFINC60LvQsNGB0YHQsCDQtNC70Y8g0YHQvtC30LTQsNC90LjRjyDQtNC+0YfQtdGA0L3QtdCz0L4g0LrQu9Cw0YHRgdCwLiovXG5cbi8qIHN1cGVyIC0tINCa0LvRjtGH0LXQstC+0LUg0YHQu9C+0LLQviBzdXBlciDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8g0LTQu9GPINCy0YvQt9C+0LLQsCDRhNGD0L3QutGG0LjQuSwg0L/RgNC40L3QsNC00LvQtdC20LDRidC40YUg0YDQvtC00LjRgtC10LvRjiDQvtCx0YrQtdC60YLQsC4qL1xuXG4vKiDQmtC+0LvQsdGN0Lot0YTRg9C90LrRhtC40Y8gKNC40LvQuCDQvtCx0YDQsNGC0L3Ri9C5INCy0YvQt9C+0LIpIC0tINGN0YLQviDRhNGD0L3QutGG0LjRjywg0L/QtdGA0LXQtNCw0L3QvdCw0Y8g0LIg0LTRgNGD0LPRg9GOINGE0YPQvdC60YbQuNGOINCyINC60LDRh9C10YHRgtCy0LUg0LDRgNCz0YPQvNC10L3RgtCwLFxuINC60L7RgtC+0YDQsNGPINC30LDRgtC10Lwg0LLRi9C30YvQstCw0LXRgtGB0Y8g0L/QviDQt9Cw0LLQtdGA0YjQtdC90LjRjiDQutCw0LrQvtCz0L4t0LvQuNCx0L4g0LTQtdC50YHRgtCy0LjRjy4qL1xuXG5cbi8qXG7QldGB0LvQuCDQsdGD0LTQtdGCINC40L3RgtC10YDQtdGB0L3Qviwg0LzQvtC20L3QviDRg9C90LjQstC10YDRgdCw0LvRjNC90L4g0YHQvtC30LTQsNGC0Ywg0Y3QutC30LXQvNC/0LvRj9GA0Ysg0LLQsNC70LjQtNCw0YLQvtGA0L7QsiDQstGB0LXRhSDRhNC+0YDQvCwg0L/QvtC80LXRgdGC0LjQsiDQuNGFINCy0YHQtSDQsiDQvtC00LjQvSDQvtCx0YrQtdC60YIsIFxu0LAg0L/QvtGC0L7QvCDQsdGA0LDRgtGMINC40Lcg0L3QtdCz0L4g0LLQsNC70LjQtNCw0YLQvtGAINC/0L4g0LDRgtGA0LjQsdGD0YLRgyBuYW1lLCDQutC+0YLQvtGA0YvQuSDQt9Cw0LTQsNC9INC00LvRjyDRhNC+0YDQvNGLLiDQrdGC0L4g0L7Rh9C10L3RjCDRg9C90LjQstC10YDRgdCw0LvRjNC90L4g0Lgg0LTQu9GPINC70Y7QsdC+0LPQviDQutC+0Lst0LLQsCDRhNC+0YDQvCDQv9C+0LTRhdC+0LTQuNGCLlxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fVxuXG4vLyDQktC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4XG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSlcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudCwgY29uZmlnKVxuLy8g0L/QvtC70YPRh9Cw0LXQvCDQtNCw0L3QvdGL0LUg0LjQtyDQsNGC0YDQuNCx0YPRgtCwIGBuYW1lYCDRgyDRhNC+0YDQvNGLXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXG4gICAvLyDQstC+0YIg0YLRg9GCINCyINC+0LHRitC10LrRgiDQt9Cw0L/QuNGB0YvQstCw0LXQvCDQv9C+0LQg0LjQvNC10L3QtdC8INGE0L7RgNC80YtcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn07XG5cbmVuYWJsZVZhbGlkYXRpb24oY29uZmlnKTtcbiBcbtCYINGC0LXQv9C10YDRjCDQvNC+0LbQvdC+INC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDQstCw0LvQuNC00LDRgtC+0YDRiyDQtNC70Y8g0LTQtdCw0LrRgtC40LLQsNGG0LjQuCDQutC90L7Qv9C60Lgg0Lgg0YLQtFxuXG5mb3JtVmFsaWRhdG9yc1sgcHJvZmlsZUZvcm0uZ2V0QXR0cmlidXRlKCduYW1lJykgXS5yZXNldFZhbGlkYXRpb24oKVxuXG4vLyDQuNC70Lgg0LzQvtC20L3QviDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0YHRgtGA0L7QutGDICjQstC10LTRjCDQktGLINC30L3QsNC10YLQtSwg0LrQsNC60L7QuSDQsNGC0YDQuNCx0YPRgiBgbmFtZWAg0YMg0LrQsNC20LTQvtC5INGE0L7RgNC80YspXG5mb3JtVmFsaWRhdG9yc1sncHJvZmlsZS1mb3JtJ10ucmVzZXRWYWxpZGF0aW9uKClcbiovXG5cbiJdLCJuYW1lcyI6WyJGb3JtVmFsaWRhdG9yIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm0iLCJ0aGlzIiwiX2Zvcm0iLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsInNvbWUiLCJidXR0b25FbGVtZW50IiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImNvbnRhaW5zIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyU2VsZWN0b3IiLCJkb2N1bWVudCIsIml0ZW1zIiwiaXRlbSIsImVsZW1lbnQiLCJhcHBlbmQiLCJwcmVwZW5kIiwiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJteUlEIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlUmVtb3ZlQ2FyZCIsImhhbmRsZUxpa2VTZXQiLCJoYW5kbGVMaWtlUmVtb3ZlciIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9pZCIsIl9saWtlcyIsImxpa2VzIiwiX293bmVyIiwib3duZXIiLCJfbXlJRCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZVJlbW92ZUNhcmQiLCJfaGFuZGxlTGlrZVNldCIsIl9oYW5kbGVMaWtlUmVtb3ZlciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZCIsIl9nZXRUZW1wbGF0ZUxheW91dCIsInBvcHVwSW1hZ2UiLCJwb3B1cEltYWdlVGV4dCIsImxpa2VDb3VudGVyIiwic3JjIiwiYWx0IiwibGVuZ3RoIiwiZmluZCIsImxpa2UiLCJfc2V0Q2FyZExpc3RlbmVycyIsImxpa2VBcnJheSIsInRvZ2dsZSIsIl9zZXRMaWtlSGFuZGxlciIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsInRoZW4iLCJfaGFuZGxlUmVzcG9uc2UiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwiYXZhdGFyIiwiUG9wdXAiLCJwb3B1cEVsZW1lbnQiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZU92ZXJsYXlDbG9zZSIsIl9zdWJtaXRCdXR0b24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJ0ZXh0TWVzc2FnZSIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGb3JtIiwiX3N1Ym1pdEZvcm0iLCJfaW5wdXRMaXN0IiwiX2Zvcm1WYWx1ZSIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJsb2FkZXJIYW5kbGVyIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl90aXRsZSIsIl9pbWFnZSIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsIl9oYW5kbGVTdWJtaXQiLCJmdW5jIiwiVXNlckluZm8iLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZUpvYiIsIl91c2VyQXZhdGFyIiwiY29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiZXJyb3JTZWxlY3RvciIsInBvcHVwRm9ybVByb2ZpbGUiLCJwb3B1cEZvcm1DYXJkIiwicG9wdXBGb3JtQXZhdGFyIiwicG9wdXBQcm9maWxlIiwicG9wdXBDYXJkIiwicG9wdXBBdmF0YXIiLCJwb3B1cERlbGV0ZUNhcmQiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImVkaXRQcm9maWxlQnV0dG9uIiwiYWRkQ2FyZEJ1dHRvbiIsImF2YXRhckVkaXRCdXR0b24iLCJ1c2VyU2V0dGluZyIsInZhbGlkYXRpb25Gb3JtUHJvZmlsZSIsImVuYWJsZVZhbGlkYXRpb24iLCJ2YWxpZGF0aW9uRm9ybUNhcmQiLCJ2YWxpZGF0aW9uRm9ybUF2YXRhciIsInVzZXJJbmZvUHJvZmlsZSIsImFwaSIsImF1dGhvcml6YXRpb24iLCJwb3B1cFdpdGhBZGRGb3JtIiwicG9zdFVzZXJDYXJkIiwiY3JlYXRlQ2FyZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwidXNlckRhdGEiLCJzZXRVc2VySW5mbyIsIm9wZW5Qb3B1cFBsYWNlQWRkIiwiY2FyZHMiLCJib29sZWFuIiwiY2FyZCIsInBvcHVwV2l0aEltYWdlIiwib3BlbiIsIm9wZW5Qb3B1cENvbmZpcm0iLCJzZXRIYW5kbGVTdWJtaXQiLCJkZWxldGVDYXJkIiwicmVtb3ZlQ2FyZCIsInB1dExpa2UiLCJjb3VudGVyTGlrZSIsInRvZ2dsZUxpa2UiLCJkZWxldGVMaWtlIiwiYWRkSXRlbUFwcGVuZCIsImdlbmVyYXRlQ2FyZCIsImFkZEl0ZW1QcmVwZW5kIiwicmVuZGVySXRlbXMiLCJzZXRFdmVudExpc3RlbmVycyIsIm9wZW5Qb3B1cEF2YXRhciIsInBhdGNoQXZhdGFyIiwic2V0VXNlckF2YXRhciIsInByb2ZpbGVGb3JtIiwicGF0Y2hVc2VyUHJvZmlsZSIsInByb2ZpbGUiLCJyZXNldFZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9