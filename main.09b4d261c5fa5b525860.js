(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var n=function(){function e(t,n,r){var o=r.handleCardClick,i=r.handleCardLike,u=r.handleDeleteCard,a=r.handleCardLikeDelete;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._name=t.name,this._link=t.link,this._likes=t.likes,this._id=t._id,this._ownerId=t.owner._id,this._user=t.user,this._templateSelector=n,this._handleCardClick=o,this._handleCardLike=i,this._handleDeleteCard=u,this._handleCardLikeDelete=a,this._element=this._getTemplate(),this._elementLikeButton=this._element.querySelector(".element__like-button"),this._elementLikeCounter=this._element.querySelector(".element__like-button_counter")}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"handleDeleteCard",value:function(){this._element.remove(),this._element=null}},{key:"likesLength",value:function(e){0===e.length?this._elementLikeCounter.textContent="":this._elementLikeCounter.textContent=e.length}},{key:"_likeActive",value:function(){var e=this;this._likes.forEach((function(t){e._user===t._id&&e._elementLikeButton.classList.add("element__like_active")}))}},{key:"isLiked",value:function(){this._elementLikeButton.classList.add("element__like_active")}},{key:"dislike",value:function(){this._elementLikeButton.classList.remove("element__like_active")}},{key:"_setEventListener",value:function(){var e=this;this._image=this._element.querySelector(".element__item"),this._elementLikeButton.addEventListener("click",(function(){e._elementLikeButton.classList.contains("element__like_active")?e._handleCardLikeDelete():e._handleCardLike()})),this._element.querySelector(".element__trash-button").addEventListener("click",this._handleDeleteCard),this._image.addEventListener("click",this._handleCardClick)}},{key:"generateCard",value:function(){return this._setEventListener(),this._elementLikeCounter(this._likes),this._likeActive(),this._image.src=this._link,this._image.alt=this._name,this._element.querySelector(".element__subject").textContent=this._name,this._ownerId===this._user&&this._element.querySelector(".element__trash-button").classList.add("element__delete_active"),this._element}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}var i=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(){var e=this;this._items.reverse().forEach((function(t){e._renderer(t)}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===u(o)?o:String(o)),r)}var o}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"!==e.key&&"Esc"!==e.key||this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._popupForm=n._popup.querySelector(".popup__form"),console.log(n._popupForm),n._inputList=n._popupForm.querySelectorAll(".popup__input"),console.log(n._inputList),n._submitButton=n._popup.querySelector(".popup__button_active_submit"),n._handleFormSubmit=t,n}return t=u,(n=[{key:"renderLoading",value:function(e){this._submitButton.textContent=e?"Сохранение...":"Сохранить"}},{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;f(y(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.close()}))}},{key:"close",value:function(){f(y(u.prototype),"close",this).call(this),this._popupForm.reset()}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},h.apply(this,arguments)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._image=t._popup.querySelector(".popup__item"),t._name=t._popup.querySelector(".popup__item-subject"),t}return t=u,(n=[{key:"open",value:function(e){h(b(u.prototype),"open",this).call(this),this._image.src=e.src,this._image.alt=e.alt,this._name.textContent=e.alt}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function w(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===g(t)?t:String(t)}var L=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"_hasInvalidInput",(function(){return r._inputList.some((function(e){return!e.validity.valid}))})),w(this,"_showInputError",(function(e,t){var n=r._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(r._inputErrorClass),n.textContent=t,n.classList.add(r._errorClass)})),w(this,"_hideInputError",(function(e){var t=r._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(r._inputErrorClass),t.classList.remove(r._errorClass),t.textContent=""})),w(this,"_toggleBtnState",(function(){r._hasInvalidInput()?r._activateButton():r._deactivateButton()})),w(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),w(this,"_setEventListeners",(function(){r._toggleBtnState(),r._formElement.addEventListener("reset",(function(){setTimeout((function(){r._toggleBtnState()}),0)})),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r._toggleBtnState()}))}))})),w(this,"enableValidation",(function(){r._setEventListeners()})),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._errorSelector=t.errorSelector,this._submitBtnSelector=t.submitBtnSelector,this._inactiveBtnClass=t.inactiveBtnClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._btnElement=this._formElement.querySelector(this._submitBtnSelector)}var t,n;return t=e,(n=[{key:"_activateButton",value:function(){this._btnElement.classList.add(this._inactiveBtnClass),this._btnElement.disabled=!0}},{key:"_deactivateButton",value:function(){this._btnElement.classList.remove(this._inactiveBtnClass),this._btnElement.disabled=!1}},{key:"resetValidation",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._popupForm=n._popup.querySelector(".popup__form"),n._handleFormSubmit=t,n}return t=u,(n=[{key:"setEventListeners",value:function(){var e=this;O(q(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){e._handleFormSubmit(t)}))}},{key:"setCard",value:function(){this._card=card}},{key:"getCard",value:function(){return this._card}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===T(o)?o:String(o)),r)}var o}var B=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=t.name,this._profileDefinition=t.about,this._userAvatar=t.avatar}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._userInfo={name:this._profileName,about:this._profileDefinition,avatar:this._userAvatar},this._userInfo}},{key:"setUserInfo",value:function(e){this._profileName.textContent=e.name,this._profileDefinition.textContent=e.about}},{key:"setUserAvatar",value:function(e){this._userAvatar.src=e}},{key:"setId",value:function(e){this._id=e}},{key:"getId",value:function(){return this._id}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==U(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===U(o)?o:String(o)),r)}var o}var D,x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_sentResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then(this._sentResponse)}},{key:"updateUserInfo",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._sentResponse)}},{key:"getCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then(this._sentResponse)}},{key:"addNewCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._sentResponse)}},{key:"likeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._sentResponse)}},{key:"dislikeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._sentResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._sentResponse)}},{key:"updateAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._sentResponse)}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),V={formSelector:".popup__form",inputSelector:".popup__input",errorSelector:".popup__input-error",submitBtnSelector:".popup__button_active_submit",inactiveBtnClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},F=(document.querySelector(".profile__avatar-image"),document.querySelector(".profile__avatar")),N=document.querySelector(".popup_avatar-change"),J=N.querySelector(".popup__form_avatar"),G=document.querySelector(".popup_delete").querySelector(".popup__form_delete-card"),H=document.querySelector(".popup__form_profile"),M=document.querySelector(".profile__button_active_edit"),z=document.querySelector(".profile__button_active_add"),$=document.querySelector(".popup__form_element"),K=(document.querySelector(".elements"),document.querySelector("#card-template").content.querySelector(".element"),document.querySelector(".popup_profile")),Q=document.querySelector(".popup_element"),W=document.querySelector(".popup_img"),X=(K.querySelector(".popup__title"),Q.querySelector(".popup__title"),document.querySelector(".popup__item"),document.querySelector(".popup__item-subject"),document.querySelector(".popup__item-subject"),document.querySelector(".popup__item"),document.querySelector(".profile__name")),Y=document.querySelector(".profile__definition"),Z=H.querySelector(".popup__input_profile_name"),ee=H.querySelector(".popup__input_profile_title"),te=(document.querySelector(".popup__button_active_save_card"),Q.querySelector(".popup__form_element"),document.querySelector(".popup__input_element_name"),document.querySelector(".popup__input_element_url"),document.querySelector(".popup__button"),document.querySelectorAll(".popup"),document.querySelector(".popup__close")),ne=document.querySelector(".popup__button_active_exit");function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oe=new x({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-60",headers:{authorization:"3aa61c49-fdf8-469f-ac89-ecfdfa4ec988","Content-Type":"application/json"}}),ie=new L(V,$);ie.enableValidation();var ue=new L(V,H);ue.enableValidation();var ae=new L(V,N);ae.enableValidation();var ce=new i((function(e){var t=me(e).generateCard();ce.addItem(t)}),".elements"),le=new B({profileName:".profile__name",profileDefinition:".profile__definition",userAvatar:".profile__avatar-image"}),se=new S(W);se.setEventListeners();var fe=new d(K,(function(e){fe.renderLoading(!0,"Сохранение..."),oe.updateUserInfo(e).then((function(e){le.setUserInfo(e),fe.close()})).catch((function(e){fe.renderLoading(!0,"Ошибка отправки формы"),console.log("Ошибка: ".concat(e))})).finally((function(){fe.renderLoading(!1)}))}));fe.setEventListeners(),te.addEventListener("click",(function(){fe.close()}));var pe=new d(Q,(function(e){pe.renderLoading(!0,"Сохранение..."),oe.addNewCard(e).then((function(e){ce.addItem(me(e).generateCard()),pe.close()})).catch((function(e){pe.renderLoading(!0,"Ошибка отправки формы"),console.log("Ошибка: ".concat(e))})).finally((function(){pe.renderLoading(!1)}))}));pe.setEventListeners(),ne.addEventListener("click",(function(){pe.close()})),M.addEventListener("click",(function(){fe.open(),Z.value=X.textContent,ee.value=Y.textContent,ue.resetValidation()}));var ye=new I(G,(function(e){ye.renderLoading(!0,"Удаление..."),oe.deleteCard(e._data._id).then((function(){e.deleteCard(),ye.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){ye.renderLoading(!1)}))}));ye.setEventListeners();var de=new d(J,(function(e){de.renderLoading(!0,"Сохранение..."),oe.updateAvatar(e.link).then((function(e){le.setUserInfo(e),de.close()})).catch((function(e){console.log("Ошибка.....: ".concat(e))})).finally((function(){de.renderLoading(!1)}))}));function _e(e){se.open(e.target)}function me(e){var t=new n(e,"#card",_e,D,(function(){return e=t,void ye.open(e);var e}),(function(){oe.likeCard(e._id).then((function(e){t.likesLength(e.data),t.isLiked()})).catch((function(e){return console.log("Ошибка: ".concat(e))}))}),(function(){oe.dislikeCard(e._id).then((function(e){t.likesLength(e.data),t.dislike()})).catch((function(e){return console.log("Ошибка: ".concat(e))}))}));return t}de.setEventListeners(),Promise.all([oe.updateUserInfo(),oe.getCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];o._id,le.setUserInfo(o),ce.renderItems(i)})).catch((function(e){console.log(e)})),M.addEventListener("click",(function(){fe.open();var e=le.getUserInfo(),t=e.name,n=e.about;Z.value=t,ee.value=n,ue.resetValidation()})),z.addEventListener("click",(function(){pe.open(),ie.resetValidation()})),F.addEventListener("click",(function(){de.open(),ae.resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ekIrSixHQUFrQnpGLE1BQVFrRCxFQUMxQjhDLEdBQWVzQixpQkFDbkIsSUFDQXJDLEVBQWlCeEgsaUJBQWlCLFNBQVMsV0FDdkMwSixHQUFpQkUsT0FDakJ2QixHQUFtQndCLGlCQUN2QixJQUNJM0MsRUFBZ0JsSCxpQkFBaUIsU0FBUyxXQUN0Q2dLLEdBQWdCSixPQUNoQnBCLEdBQXFCcUIsaUJBQ3pCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvdmFyaWFibGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIHRlbXBsYXRlU2VsZWN0b3IsIHtoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZUNhcmRMaWtlLCBoYW5kbGVEZWxldGVDYXJkLCBoYW5kbGVDYXJkTGlrZURlbGV0ZX0pIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xuICAgIHRoaXMuX3VzZXIgPSBkYXRhLnVzZXI7XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlID0gaGFuZGxlQ2FyZExpa2U7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7XG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2VEZWxldGUgPSBoYW5kbGVDYXJkTGlrZURlbGV0ZTtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9lbGVtZW50TGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgXCIuZWxlbWVudF9fbGlrZS1idXR0b25cIlxuICAgICk7XG4gICAgdGhpcy5fZWxlbWVudExpa2VDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtYnV0dG9uX2NvdW50ZXJcIilcbiAgfVxuXG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IHRlbXBsYXRlRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXG4gICAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxuICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiB0ZW1wbGF0ZUVsZW1lbnQ7XG4gIH07XG5cbiAgaGFuZGxlRGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgbGlrZXNMZW5ndGgobGlrZXMpIHtcbiAgICBpZiAobGlrZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9lbGVtZW50TGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZWxlbWVudExpa2VDb3VudGVyLnRleHRDb250ZW50ID0gbGlrZXMubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIF9saWtlQWN0aXZlKCkge1xuICAgIHRoaXMuX2xpa2VzLmZvckVhY2goKGxpa2UpID0+IHtcbiAgICAgIGlmICh0aGlzLl91c2VyID09PSBsaWtlLl9pZCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50TGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19saWtlX2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaXNMaWtlZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50TGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19saWtlX2FjdGl2ZScpO1xuICB9XG5cbiAgZGlzbGlrZSgpIHtcbiAgICB0aGlzLl9lbGVtZW50TGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19saWtlX2FjdGl2ZScpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXIoKSB7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pdGVtJyk7XG4gICAgdGhpcy5fZWxlbWVudExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fZWxlbWVudExpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdlbGVtZW50X19saWtlX2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlRGVsZXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RyYXNoLWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCk7XG4gICAgdGhpcy5faW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDYXJkQ2xpY2spO1xuICB9XG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKCk7XG5cbiAgICB0aGlzLl9lbGVtZW50TGlrZUNvdW50ZXIodGhpcy5fbGlrZXMpO1xuICAgIHRoaXMuX2xpa2VBY3RpdmUoKTtcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fc3ViamVjdCcpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICBpZiAodGhpcy5fb3duZXJJZCA9PT0gdGhpcy5fdXNlcikge1xuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdHJhc2gtYnV0dG9uJykuY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fZGVsZXRlX2FjdGl2ZScpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbn1cblxuXG4vKlxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fZWxlbWVudEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2l0ZW1cIik7XG4gICAgdGhpcy5fZWxlbWVudFRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3N1YmplY3RcIik7XG4gICAgdGhpcy5fZWxlbWVudExpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIFwiLmVsZW1lbnRfX2xpa2UtYnV0dG9uXCJcbiAgICApO1xuICAgIHRoaXMuX2VsZW1lbnRMaWtlQ291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWJ1dHRvbl9jb3VudGVyXCIpXG4gICAgdGhpcy5fZWxlbWVudERlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgXCIuZWxlbWVudF9fdHJhc2gtYnV0dG9uXCJcbiAgICApO1xuXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fZWxlbWVudEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9lbGVtZW50TGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSBgJHt0aGlzLl9saWtlcy5sZW5ndGh9YDtcblxuICAgIGlmICh0aGlzLl9saWtlcy5maW5kKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gdGhpcy5fb3duZXIpKSB7XG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ1dHRvbicpLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICAgIH1cbiAgICBpZiAodGhpcy5faWQuX2lkID09PSB0aGlzLl9vd25lcikgeyAgLy8g0LXRgdC70Lgg0YHQvtC30LTQsNGC0LXQu9GMINC60LDRgNGC0YsgLSDRjywg0YLQviDQvdCw0LLQtdGB0LjRgtGMINC90LAg0LrQsNGA0YLRgyDQutC90L7Qv9C60YMg0YPQtNCw0LvQtdC90LjRj1xuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdHJhc2gtYnV0dG9uJykuY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fdHJhc2gtYnV0dG9uX3Zpc2libGUnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbiAgc2V0Q2FyZExpa2VzKGRhdGEpIHtcbiAgICBjb25zdCBsaWtlc0NvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZS1idXR0b25fY291bnRlclwiKTtcbiAgICBsaWtlc0NvdW50ZXIudGV4dENvbnRlbnQgPSBkYXRhLmxlbmd0aDtcbiAgfVxuIGlzTGlrZWQoKSB7XG4gIGNvbnN0IHVzZXJMaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1idXR0b24nKTtcbiAgaWYgKHVzZXJMaWtlLmNsYXNzTGlzdC5jb250YWlucygnZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlJykpIHtcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZURlbGV0ZSgpXG4gIH0gZWxzZSB7XG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2UoKX1cbn1cbiAgcmVtb3ZlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICB9XG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNhcmRDbGljayk7XG4gICAgdGhpcy5fZWxlbWVudERlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnRhcmdldC5jbG9zZXN0KFwiLmVsZW1lbnRcIikucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fZWxlbWVudExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9KTtcbiAgfVxufSovXG5cblxuLypcbkpTT04gYyDQvNCw0YHRgdC40LLQvtC8INC60LDRgNGC0L7Rh9C10Lo6XG4gICAgW1xuICAgICAge1xuICAgICAgICBcImxpa2VzXCI6IFtdLFxuICAgICAgICBcIl9pZFwiOiBcIjVkMWYwNjExZDMyMWViNGJkY2Q3MDdkZFwiLFxuICAgICAgICBcIm5hbWVcIjogXCLQkdCw0LnQutCw0LtcIixcbiAgICAgICAgXCJsaW5rXCI6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGdcIixcbiAgICAgICAgXCJvd25lclwiOiB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiSmFjcXVlcyBDb3VzdGVhdVwiLFxuICAgICAgICAgIFwiYWJvdXRcIjogXCJTYWlsb3IsIHJlc2VhcmNoZXJcIixcbiAgICAgICAgICBcImF2YXRhclwiOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvYXZhLmpwZ1wiLFxuICAgICAgICAgIFwiX2lkXCI6IFwiZWY1Zjc0MjNmN2Y1ZTIyYmVmNGFkNjA3XCIsXG4gICAgICAgICAgXCJjb2hvcnRcIjogXCJsb2NhbFwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiY3JlYXRlZEF0XCI6IFwiMjAxOS0wNy0wNVQwODoxMDo1Ny43NDFaXCJcbiAgICAgIH0sXG4gICAgXVxuICAgICovXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IgLyplbGVtZW50c0NvbnRhaW5lciovKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIC8vdGhpcy5fY29udGFpbmVyID0gZWxlbWVudHNDb250YWluZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cbiAgLy8g0L/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INC/0YDQuNC90LjQvNCw0LXRgiBET00t0Y3Qu9C10LzQtdC90YIg0Lgg0LTQvtCx0LDQstC70Y/QtdGCINC10LPQviDQsiDQutC+0L3RgtC10LnQvdC10YBcbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbiAgLy8g0L/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQsINC+0YLQstC10YfQsNGO0YnQuNC5INC30LAg0L7RgtGA0LjRgdC+0LLQutGDINCy0YHQtdGFINGN0LvQtdC80LXQvdGC0L7QslxuICByZW5kZXJJdGVtcygpIHsgXG4gICAgdGhpcy5faXRlbXMucmV2ZXJzZSgpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pOyAvL9C+0YLRgNC40YHQvtCy0LrQsCDQutCw0LbQtNC+0LPQviDRjdC70LXQvNC10L3RgtCwINC+0YHRg9GJ0LXRgdGC0LLQu9GP0LXRgtGB0Y8g0YTRg9C90LrRhtC40LXQuSByZW5kZXJlciBcbiAgICB9KTtcbiAgfVxufVxuXG5cbi8vINC60LvQsNGB0YEg0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINC+0YLRgNC40YHQvtCy0LrRgyDRjdC70LXQvNC10L3RgtC+0LIg0L3QsCDRgdGC0YDQsNC90LjRhtC1XG4vLyAxLdC5INC/0LDRgNCw0LzQtdGC0YAg0LrQvtC90YHRgtGA0YPQutGC0L7RgNCwIC0tINC+0LHRitC10LrRgiDRgSDQtNCy0YPQvNGPINGB0LLQvtC50YHRgtCy0LDQvNC4OiBpdGVtcyDQuCByZW5kZXJlclxuLy8gaXRlbXMgLS0g0LzQsNGB0YHQuNCyINC00LDQvdC90YvRhSwg0LrQvtGC0L7RgNGL0LUg0L3Rg9C20L3QviDQtNC+0LHQsNCy0LjRgtGMINC90LAg0YHRgtGA0LDQvdC40YbRgyDQv9GA0Lgg0LjQvdC40YbQuNCw0LvQuNC30LDRhtC40Lgg0LrQu9Cw0YHRgdCwXG4vLyByZW5kZXJlciAtLSDRhNGD0L3QutGG0LjRjywg0LrQvtGC0L7RgNCw0Y8g0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINGB0L7Qt9C00LDQvdC40LUg0Lgg0L7RgtGA0LjRgdC+0LLQutGDINC00LDQvdC90YvRhSDQvdCwINGB0YLRgNCw0L3QuNGG0LVcbi8vIDIt0Lkg0L/QsNGA0LDQvNC10YLRgCAtLSDRgdC10LvQtdC60YLQvtGAINC60L7QvdGC0LXQudC90LXRgNCwLCDQsiDQutC+0YLQvtGA0YvQuSDQvdGD0LbQvdC+INC00L7QsdCw0LLQu9GP0YLRjCDRgdC+0LfQtNCw0L3QvdGL0LUg0Y3Qu9C10LzQtdC90YLRi1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICAvLyDQv9GA0LjQvdC40LzQsNC10YIg0LIg0LrQvtC90YHRgtGA0YPQutGC0L7RgCDQtdC00LjQvdGB0YLQstC10L3QvdGL0Lkg0L/QsNGA0LDQvNC10YLRgCAtLSDRgdC10LvQtdC60YLQvtGAINC/0L7Qv9Cw0L/QsFxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBwb3B1cFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuICAvLyDQv9GD0LHQu9C40YfQvdGL0LUg0LzQtdGC0L7QtNGLLCDQvtGC0LLQtdGH0LDRjtGJ0LjQtSDQt9CwINC+0YLQutGA0YvRgtC40LUg0Lgg0LfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LBcbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuICAvLyDQv9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0YHQvtC00LXRgNC20LjRgiDQu9C+0LPQuNC60YMg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0LrQu9Cw0LLQuNGI0LXQuSBFU0NcbiAgX2hhbmRsZUVzY0Nsb3NlKGUpIHtcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIgfHwgZS5rZXkgPT09IFwiRXNjXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cbiAgLy8g0L/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INC00L7QsdCw0LLQu9GP0LXRgiDRgdC70YPRiNCw0YLQtdC70Ywg0LrQu9C40LrQsCDQuNC60L7QvdC60LUg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAgKyDQt9Cw0LrRgNGL0YLQuNC1INC/0YDQuCDQutC70LjQutC1INC90LAg0L7QstC10YDQu9C10LlcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikgfHxcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2Nsb3NlXCIpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgY29uc29sZS5sb2codGhpcy5fcG9wdXBGb3JtKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XG4gICAgY29uc29sZS5sb2codGhpcy5faW5wdXRMaXN0KTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25fYWN0aXZlX3N1Ym1pdFwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgfVxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xuICAgIH1cbiAgfVxuICAvLyDQv9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0YHQvtCx0LjRgNCw0LXRgiDQtNCw0L3QvdGL0LUg0YHQviDQstGB0LXRhSDQv9C+0LvQtdC5INGE0L7RgNC80YtcbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGZvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcbiAgfVxuXG4gIC8vINC/0LXRgNC10LfQsNC/0LjRgdGL0LLQsNC10YIg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC80LXRgtC+0LQsINC90LUg0YLQvtC70YzQutC+INC00L7QsdCw0LLQu9GP0Y8g0L7QsdGA0LDQsdC+0YLRh9C40Log0L/QviDQutC70LjQutGDINC90LAg0LjQutC+0L3QutGDINC30LDQutGA0YvRgtC40Y8sXG4gIC8vINC90L4g0Lgg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQsNCx0LzQuNGC0LAg0YTQvtGA0LzRi1xuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICAgIC8vc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8vINC/0LXRgNC10LfQsNC/0LjRgdGL0LLQsNC10YIg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC80LXRgtC+0LQsINGH0YLQvtCx0Ysg0YHQsdGA0LDRgdGL0LLQsNGC0Ywg0YTQvtGA0LzRgyDQv9GA0Lgg0LfQsNC60YDRi9GC0LjQuCDQv9C+0L/QsNC/0LBcbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgICAvL3N1cGVyLmNsb3NlKCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faXRlbVwiKTtcbiAgICB0aGlzLl9uYW1lID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faXRlbS1zdWJqZWN0XCIpO1xuICB9XG4gIC8v0L/QtdGA0LXQt9Cw0L/QuNGB0YvQstCw0LXRgiDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LzQtdGC0L7QtCBvcGVuINC4INC/0L7Qu9GD0YfQsNC10YIg0LrQsNGA0YLQuNC90LrRgyDRgSDQv9C+0LTQv9C40YHRjNGOXG5cbiAgb3BlbihkYXRhKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGRhdGEuc3JjO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IGRhdGEuYWx0O1xuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLmFsdDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBjb25maWcuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9lcnJvclNlbGVjdG9yID0gY29uZmlnLmVycm9yU2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnRuU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnRuU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdG5DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ0bkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX2J0bkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ0blNlbGVjdG9yKTtcbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vINC/0YDQuNCy0LDRgtC90YvQuSDQvNC10YLQvtC0INC/0L7QutCw0LfRi9Cy0LDQtdGCINGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtVxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfTtcblxuICAvL9C/0YDQuNCy0LDRgtC90YvQuSDQvNC10YLQvtC0INGB0LrRgNGL0LLQsNC10YIg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1XG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH07XG5cbiAgX2FjdGl2YXRlQnV0dG9uKCkge1xuICAgIHRoaXMuX2J0bkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ0bkNsYXNzKTtcbiAgICB0aGlzLl9idG5FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuICBfZGVhY3RpdmF0ZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9idG5FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdG5DbGFzcyk7XG4gICAgdGhpcy5fYnRuRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgLy/Qv9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0L/QtdGA0LXQutC70Y7Rh9Cw0LXRgiDQsNC60YLQuNCy0L3QvtGB0YLRjCDQutC90L7Qv9C+0LpcbiAgX3RvZ2dsZUJ0blN0YXRlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fYWN0aXZhdGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZGVhY3RpdmF0ZUJ1dHRvbigpO1xuICAgIH1cbiAgfTtcblxuICAvL9C/0YDQuNCy0LDRgtC90YvQuSDQvNC10YLQvtC0INC/0YDQvtCy0LXRgNC60Lgg0LLQsNC70LjQtNC90L7RgdGC0Lgg0L/QvtC70Y9cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpOyAvL9Cf0LXRgNC10LTQsNC10Lwg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8v0L/RgNC40LLQsNGC0L3Ri9C5INGB0LvRg9GI0LDRgtC10LvRjCwg0LrQvtGC0L7RgNGL0Lkg0LTQvtCx0LDQstC70Y/QtdGCINGB0L7QvtCx0YnQtdC90LjRjyDQvtCxINC+0YjQuNCx0LrQsNGFXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICB0aGlzLl90b2dnbGVCdG5TdGF0ZSgpO1xuXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsICgpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLl90b2dnbGVCdG5TdGF0ZSgpO1xuICAgICAgfSwgMCk7XG4gICAgfSk7XG5cbiAgICAvLyDQv9C+0YLQvtC8INGD0LbQtSBgZm9yRWFjaGBcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnRuU3RhdGUoKTtcbiAgICAgICAgLy90aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVzZXRcIiwgKCkgPT4ge1xuICAgICAgICAvL3NldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAvL3RoaXMuX3RvZ2dsZUJ0blN0YXRlKCk7XG4gICAgICAgIC8vfSwgMCk7XG4gICAgICAgIC8vfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvL9C/0YPQsdC70LjRh9C90YvQuSDQvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQsdGD0LTQtdGCINGB0LHRgNCw0YHRi9Cy0LDRgtGMINC+0YjQuNCx0LrQuCDRgSDRgtC10LrRg9GJ0LXQuSDRhNC+0YDQvNGLXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgLy/Qv9GD0LHQu9C40YfQvdGL0Lkg0LzQtdGC0L7QtCDQutC+0YLQvtGA0YvQuSDQstC60LvRjtGH0LDQtdGCINCy0LDQu9C40LTQsNGG0LjRjlxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIH1cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KGUpO1xuICAgICAgICB9KVxuICAgIH1cbiAgICBzZXRDYXJkKCkge1xuICAgICAgICB0aGlzLl9jYXJkID0gY2FyZDtcbiAgICB9XG4gICAgZ2V0Q2FyZCgpIHtcbiAgICAgICByZXR1cm4gIHRoaXMuX2NhcmQ7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgLy8g0JrQu9Cw0YHRgSDQv9GA0LjQvdC40LzQsNC10YIg0LIg0LrQvtC90YHRgtGA0YPQutGC0L7RgCDQvtCx0YrQtdC60YIg0YEg0YHQtdC70LXQutGC0L7RgNCw0LzQuCDQtNCy0YPRhSDRjdC70LXQvNC10L3RgtC+0LI6INC40LzQtdC90Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INGB0LXQsdC1LlxuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fcHJvZmlsZURlZmluaXRpb24gPSBkYXRhLmFib3V0O1xuICAgIHRoaXMuX3VzZXJBdmF0YXIgPSBkYXRhLmF2YXRhcjtcbiAgfVxuICAvLyDQv9GD0LHQu9C40YfQvdGL0Lkg0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINGBINC00LDQvdC90YvQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy4g0L/QvtC00YHRgtCw0LLQu9GP0LXRgiDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4LlxuICBnZXRVc2VySW5mbygpIHtcbiAgICB0aGlzLl91c2VySW5mbyA9IHtcbiAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLFxuICAgICAgYWJvdXQ6IHRoaXMuX3Byb2ZpbGVEZWZpbml0aW9uLFxuICAgICAgYXZhdGFyOiB0aGlzLl91c2VyQXZhdGFyLFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuX3VzZXJJbmZvO1xuICB9XG4gIC8vINC/0YPQsdC70LjRh9C90YvQuSDQvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQv9GA0LjQvdC40LzQsNC10YIg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC00L7QsdCw0LLQu9GP0LXRgiDQuNGFINC90LAg0YHRgtGA0LDQvdC40YbRg1xuICBzZXRVc2VySW5mbyhuZXdVc2VyRGF0YSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmV3VXNlckRhdGEubmFtZTtcbiAgICB0aGlzLl9wcm9maWxlRGVmaW5pdGlvbi50ZXh0Q29udGVudCA9IG5ld1VzZXJEYXRhLmFib3V0O1xuICAgIC8vdGhpcy5fdXNlckF2YXRhci5zcmMgPSBuZXdVc2VyRGF0YS5hdmF0YXI7XG4gIH1cbiAgc2V0VXNlckF2YXRhcihsaW5rKSB7XG4gICAgdGhpcy5fdXNlckF2YXRhci5zcmMgPSBsaW5rO1xuICB9XG4gIHNldElkKGlkKSB7XG4gICAgdGhpcy5faWQgPSBpZDtcbiAgfVxuICBnZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cblxufVxuXG4iLCIvL9C40LzQv9C+0YDRgiDQutC70LDRgdGB0L7QslxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcblxuLy/QuNC80L/QvtGA0YIg0L/QtdGA0LXQvNC10L3QvdGL0YVcbmltcG9ydCB7XG4gICAgLy9pbml0aWFsQ2FyZHMsXG4gICAgY29uZmlnLFxuICAgIGZvcm1FZGl0UHJvZmlsZSxcbiAgICBwcm9maWxlRWRpdCxcbiAgICBwcm9maWxlQWRkQnV0dG9uLFxuICAgIGZvcm1BZGRFbGVtZW50LFxuICAgIGNhcmRzQ29udGFpbmVyLFxuICAgIHBvcHVwUHJvZmlsZUVkaXQsXG4gICAgcG9wdXBFbGVtZW50QWRkLFxuICAgIHBvcHVwSXRlbU9wZW4sXG4gICAgcHJvZmlsZU5hbWUsXG4gICAgcHJvZmlsZURlZmluaXRpb24sXG4gICAgcHJvZmlsZU5hbWVJbnB1dCxcbiAgICBwcm9maWxlVGl0bGVJbnB1dCxcbiAgICB1c2VyQXZhdGFyLFxuICAgIHBvcHVwQWRkQXZhdGFyRm9ybSxcbiAgICBwb3B1cEFkZEF2YXRhcixcbiAgICBwb3B1cERlbGV0ZUNhcmQsXG4gICAgcG9wdXBDbG9zZUJ1dHRvbkFkZENhcmQsXG4gICAgcG9wdXBDbG9zZUJ1dHRvblByb2ZpbGVFZGl0LFxuICAgIGF2YXRhckNvbnRhaW5lcixcbiAgICBwb3B1cERlbGV0ZUNhcmRGb3JtLFxufSBmcm9tIFwiLi4vdXRpbHMvdmFyaWFibGUuanNcIjtcbmxldCB1c2VySWQ7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe2Jhc2VVcmw6J2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjAnLFxuICAgIGhlYWRlcnM6XG4gICAgICAgIHtcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICczYWE2MWM0OS1mZGY4LTQ2OWYtYWM4OS1lY2ZkZmE0ZWM5ODgnLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfVxufSk7XG5cbi8vINC80LXRgtC+0LQg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvDog0L/RgNC+0YTQsNC50LssINC00L7QsdCw0LLQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LgsINC00L7QsdCw0LLQu9C10L3QuNC1INCw0LLQsNGC0LDRgNCwXG5cbmNvbnN0IHZhbGlkYXRpb25Gb3JtQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUFkZEVsZW1lbnQpO1xudmFsaWRhdGlvbkZvcm1DYXJkLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgdmFsaWRhdGlvbkZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FZGl0UHJvZmlsZSk7XG52YWxpZGF0aW9uRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHZhbGlkYXRpb25BdmF0YXJGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwb3B1cEFkZEF2YXRhcik7XG52YWxpZGF0aW9uQXZhdGFyRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vINGB0L7Qt9C00LDQvdC40LUg0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4OiDQu9Cw0LnQutC4LCDRgdC90Y/RgtC40LUg0LvQsNC50LrQsFxuLy8g0YPQtNCw0LvQtdC90LjQtSDRgdCy0L7QtdC5INC60LDRgNGC0L7Rh9C60Lhcbi8vINC+0LHQvdC+0LLQu9C10L3QuNC1INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtVxuLy8g0L7QsdC90L7QstC70LXQvdC40LUg0LDQstCw0YLQsNGA0LAg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG5cblxuY29uc3QgY2FyZHMgPSBuZXcgU2VjdGlvbigoZGF0YSkgPT4ge1xuICAgIGNvbnN0IGNhcmRJdGVtID0gaGFuZGxlTmV3Q2FyZChkYXRhKS5nZW5lcmF0ZUNhcmQoKTtcbiAgICBjYXJkcy5hZGRJdGVtKGNhcmRJdGVtKTtcbn0sXG4gICAgXCIuZWxlbWVudHNcIlxuKTtcblxuY29uc3QgZGF0YVVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgICBwcm9maWxlTmFtZTogXCIucHJvZmlsZV9fbmFtZVwiLFxuICAgIHByb2ZpbGVEZWZpbml0aW9uOiBcIi5wcm9maWxlX19kZWZpbml0aW9uXCIsXG4gICAgdXNlckF2YXRhcjogXCIucHJvZmlsZV9fYXZhdGFyLWltYWdlXCIsXG59KVxuXG5cbi8vINC+0YLQutGA0YvRgtGMINC/0YDQtdCy0YzRjiDQutCw0YDRgtC40L3QutC4XG5jb25zdCBpbWFnZU9wZW4gPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBJdGVtT3Blbik7XG5pbWFnZU9wZW4uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcG9wdXBXaXRoSW5mb0Zvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cFByb2ZpbGVFZGl0LCAoZGF0YSkgPT4ge1xuICAgIHBvcHVwV2l0aEluZm9Gb3JtLnJlbmRlckxvYWRpbmcodHJ1ZSwgXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiKTtcbiAgICBhcGkudXBkYXRlVXNlckluZm8oZGF0YSlcbiAgICAgICAgLnRoZW4oKHVzZXJJbmZvKSA9PiB7XG4gICAgICAgICAgICBkYXRhVXNlckluZm8uc2V0VXNlckluZm8odXNlckluZm8pO1xuICAgICAgICAgICAgcG9wdXBXaXRoSW5mb0Zvcm0uY2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHBvcHVwV2l0aEluZm9Gb3JtLnJlbmRlckxvYWRpbmcodHJ1ZSwgXCLQntGI0LjQsdC60LAg0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLXCIpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKVxuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBwb3B1cFdpdGhJbmZvRm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlKTt9KVxufSlcblxucG9wdXBXaXRoSW5mb0Zvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxucG9wdXBDbG9zZUJ1dHRvblByb2ZpbGVFZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHBvcHVwV2l0aEluZm9Gb3JtLmNsb3NlKCk7XG59KTtcblxuY29uc3QgcG9wdXBXaXRoQWRkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwRWxlbWVudEFkZCwgKGRhdGEpID0+IHtcbiAgICBwb3B1cFdpdGhBZGRGb3JtLnJlbmRlckxvYWRpbmcodHJ1ZSwgXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiKTtcbiAgICBhcGkuYWRkTmV3Q2FyZChkYXRhKVxuICAgICAgICAudGhlbigoY2FyZCkgPT4ge1xuICAgICAgICAgICAgY2FyZHMuYWRkSXRlbShoYW5kbGVOZXdDYXJkKGNhcmQpLmdlbmVyYXRlQ2FyZCgpKTtcbiAgICAgICAgICAgIHBvcHVwV2l0aEFkZEZvcm0uY2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHBvcHVwV2l0aEFkZEZvcm0ucmVuZGVyTG9hZGluZyh0cnVlLCBcItCe0YjQuNCx0LrQsCDQvtGC0L/RgNCw0LLQutC4INGE0L7RgNC80YtcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgcG9wdXBXaXRoQWRkRm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlKTt9KVxufSlcblxucG9wdXBXaXRoQWRkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQl9Cw0LrRgNGL0YLQuNC1INGE0L7RgNC80Ysg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xucG9wdXBDbG9zZUJ1dHRvbkFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcG9wdXBXaXRoQWRkRm9ybS5jbG9zZSgpO1xufSk7XG5wcm9maWxlRWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHBvcHVwV2l0aEluZm9Gb3JtLm9wZW4oKTtcbiAgICBwcm9maWxlTmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XG4gICAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSBwcm9maWxlRGVmaW5pdGlvbi50ZXh0Q29udGVudDtcbiAgICB2YWxpZGF0aW9uRm9ybS5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG5jb25zdCBwb3B1cFJlbW92ZUNhcmQgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKHBvcHVwRGVsZXRlQ2FyZEZvcm0sIChjYXJkKSA9PiB7XG4gICAgcG9wdXBSZW1vdmVDYXJkLnJlbmRlckxvYWRpbmcodHJ1ZSwgXCLQo9C00LDQu9C10L3QuNC1Li4uXCIpO1xuICAgIGFwaS5kZWxldGVDYXJkKGNhcmQuX2RhdGEuX2lkKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjYXJkLmRlbGV0ZUNhcmQoKTtcbiAgICAgICAgICAgIHBvcHVwUmVtb3ZlQ2FyZC5jbG9zZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgIHBvcHVwUmVtb3ZlQ2FyZC5yZW5kZXJMb2FkaW5nKGZhbHNlKTt9KVxufSlcbiBwb3B1cFJlbW92ZUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcG9wdXBFZGl0QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBBZGRBdmF0YXJGb3JtLCAoZGF0YSkgPT4ge1xuICAgIHBvcHVwRWRpdEF2YXRhci5yZW5kZXJMb2FkaW5nKHRydWUsICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpO1xuICAgIGFwaVxuICAgICAgICAudXBkYXRlQXZhdGFyKGRhdGEubGluaylcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGRhdGFVc2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICAgICAgICAgIHBvcHVwRWRpdEF2YXRhci5jbG9zZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwLi4uLi46ICR7ZXJyfWApO1xuICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgIHBvcHVwRWRpdEF2YXRhci5yZW5kZXJMb2FkaW5nKGZhbHNlKTt9KVxufSlcbnBvcHVwRWRpdEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpXG5Qcm9taXNlLmFsbChbYXBpLnVwZGF0ZVVzZXJJbmZvKCksIGFwaS5nZXRDYXJkcygpXSlcbi50aGVuKChbaW5mbywgaW5pdGlhbENhcmRzXSkgPT4ge1xuICAgY29uc3QgdXNlcklkID0gaW5mby5faWQ7XG4gICAgZGF0YVVzZXJJbmZvLnNldFVzZXJJbmZvKGluZm8pO1xuICAgIGNhcmRzLnJlbmRlckl0ZW1zKGluaXRpYWxDYXJkcyk7XG59KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG5cblxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKGUpIHtcbiAgICBpbWFnZU9wZW4ub3BlbihlLnRhcmdldCk7XG59XG5mdW5jdGlvbiBoYW5kbGVSZW1vdmVDYXJkKGRhdGEpIHtcbiAgICBwb3B1cFJlbW92ZUNhcmQub3BlbihkYXRhKTtcbn1cbmZ1bmN0aW9uIGhhbmRsZU5ld0NhcmQoY2FyZCkge1xuICAgIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChcbiAgICAgICAgY2FyZCxcbiAgICAgICAgJyNjYXJkJyxcbiAgICAgICAgaGFuZGxlQ2FyZENsaWNrLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgICgpID0+IGhhbmRsZVJlbW92ZUNhcmQobmV3Q2FyZCksXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGFwaVxuICAgICAgICAgICAgICAgIC5saWtlQ2FyZChjYXJkLl9pZClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NhcmQubGlrZXNMZW5ndGgocmVzLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBuZXdDYXJkLmlzTGlrZWQoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKSk7XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGFwaVxuICAgICAgICAgICAgICAgIC5kaXNsaWtlQ2FyZChjYXJkLl9pZClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NhcmQubGlrZXNMZW5ndGgocmVzLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBuZXdDYXJkLmRpc2xpa2UoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKSk7XG4gICAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiBuZXdDYXJkO1xufVxuXG5wcm9maWxlRWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHBvcHVwV2l0aEluZm9Gb3JtLm9wZW4oKTtcbiAgICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSBkYXRhVXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgICBwcm9maWxlTmFtZUlucHV0LnZhbHVlID0gbmFtZTtcbiAgICBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZSA9IGFib3V0O1xuICAgIHZhbGlkYXRpb25Gb3JtLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgcG9wdXBXaXRoQWRkRm9ybS5vcGVuKCk7XG4gICAgdmFsaWRhdGlvbkZvcm1DYXJkLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG4gICAgYXZhdGFyQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBwb3B1cEVkaXRBdmF0YXIub3BlbigpO1xuICAgICAgICB2YWxpZGF0aW9uQXZhdGFyRm9ybS5yZXNldFZhbGlkYXRpb24oKTtcbiAgICB9KTtcblxuXG4vKlxuYXBpLmdldFVzZXJJbmZvKClcbiAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgY29uc3Qge25hbWUsIGFib3V0LCBhdmF0YXJ9ID0gZGF0YTtcbiAgICAgICAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gIG5hbWU7XG4gICAgICAgICAgICBwcm9maWxlRGVmaW5pdGlvbi50ZXh0Q29udGVudCA9IGFib3V0O1xuICAgICAgICAgICAgdXNlckF2YXRhci5zcmMgPSBhdmF0YXI7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDQvdCw0YfQsNC70YzQvdGL0YUg0LTQsNC90L3Ri9GFLiDQntGI0LjQsdC60LA6ICR7ZXJyfS5gKTtcbiAgICB9KTtcblxubGV0IHVzZXJJZCA9IG51bGxcbmxldCBjYXJkc0FyciA9IFtdO1xubGV0IGNhcmRzTGlzdCA9IHt9O1xuXG4vL9CY0LfQvdCw0YfQsNC70YzQvdCw0Y8g0L7RgtGA0LjRgdC+0LLQutCwINC00LDQvdC90YvRhSDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcbmFwaS5nZXRDYXJkcygpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYNCY0L3RhNC+0YDQvNCw0YbQuNGPINC/0L7Qu9GD0YfQtdC90LAg0YEg0YHQtdGA0LLQtdGA0LAuYCk7XG4gICAgICAgIHVzZXJJZCA9IHVzZXJJbmZvLl9pZFxuICAgICAgICAvL9Ch0L7Qt9C00LDQtNC40Lwg0LzQsNGB0YHQuNCyINC40Lcg0LrQsNGA0YLQvtGH0LXQuiDQuNC3INC40YLQvtCz0L7QstC+0LPQviDQvNCw0YHRgdC40LLQsFxuICAgICAgICBjYXJkc0FyciA9IGRhdGEubWFwKHNlcnZlckl0ZW0gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBzZXJ2ZXJJdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgbGluazogc2VydmVySXRlbS5saW5rLFxuICAgICAgICAgICAgICAgIGxpa2VzOiBzZXJ2ZXJJdGVtLmxpa2VzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICBjb25zdCBjcmVhdGVDYXJkID0gKHBhcmFtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQocGFyYW0sICcjY2FyZC10ZW1wbGF0ZScsIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBJdGVtT3Blbi5vcGVuKHBhcmFtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBjYXJkO1xuICAgICAgICB9XG4gICAgICAgIC8vINCS0YHRgtCw0LLQu9GP0LXQvCDQutCw0YDRgtC+0YfQutC4INCyINGA0LDQt9C80LXRgtC60YNcbiAgICAgICAgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oe1xuICAgICAgICAgICAgICAgIGl0ZW1zOiBjYXJkc0FycixcbiAgICAgICAgICAgICAgICByZW5kZXJlcjogKGxpc3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQobGlzdClcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICAgICAgICAgICAgICAgICAgICBjYXJkc0xpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhcmRzQ29udGFpbmVyKTtcbiAgICAgICAgY2FyZHNMaXN0LnJlbmRlckl0ZW1zKCk7XG5cbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDQvdCw0YfQsNC70YzQvdGL0YUg0LTQsNC90L3Ri9GFLiDQntGI0LjQsdC60LA6ICR7ZXJyfS5gKTtcbiAgICAgICAgY2FyZHNBcnIgPSBpbml0aWFsQ2FyZHM7XG4gICAgfSlcbmNvbnN0IHJlbmRlckxvYWRpbmcgPSAocG9wdXAsIGlzTG9hZGluZyA9IGZhbHNlLCB0aXRsZSA9ICfQodC+0YXRgNCw0L3QuNGC0YwnLCBsb2FkaW5nVGl0bGUgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKSA9PiB7XG4gICAgY29uc3QgYnV0dG9uID0gcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b25fYWN0aXZlX3N1Ym1pdCcpXG5cbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBpc0xvYWRpbmcgPyBsb2FkaW5nVGl0bGUgOiB0aXRsZVxufVxuXG5jb25zdCBwb3B1cFdpdGhBZGRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBFbGVtZW50QWRkLCB7XG4gICAgc3VibWl0OiAoZGF0YSkgPT4ge1xuICAgICAgICByZW5kZXJMb2FkaW5nKHBvcHVwRWxlbWVudEFkZCwgdHJ1ZSwgJ9Ch0L7Qt9C00LDRgtGMJywgJ9Ch0L7Qt9C00LDQvdC40LUuLi4nKVxuXG4gICAgICAgIGFwaVxuICAgICAgICAgICAgLmFkZENhcmQoZGF0YSlcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KGRhdGEpKVxuICAgICAgICAgICAgICAgIHBvcHVwV2l0aEFkZEZvcm0uY2xvc2UoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coYNCd0LUg0YPQtNCw0LvQvtGB0Ywg0YHQvtGF0YDQsNC90LjRgtGMINC60LDRgNGC0L7Rh9C60YMuINCe0YjQuNCx0LrQsDoke2Vycn1gKSlcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICByZW5kZXJMb2FkaW5nKHBvc3ROZXdDYXJkLCBmYWxzZSwgJ9Ch0L7Qt9C00LDRgtGMJywgJ9Ch0L7Qt9C00LDQvdC40LUuLi4nKVxuICAgICAgICAgICAgfSlcbiAgICB9XG59KTtcblxuY29uc3QgcG9wdXBXaXRoSW5mb0Zvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cFByb2ZpbGVFZGl0LCB7XG4gICAgc3VibWl0OiAoZGF0YSkgPT4ge1xuICAgICAgICBhcGkudXBkYXRlVXNlckluZm8oe1xuICAgICAgICAgICAgbmFtZTogZGF0YVsnbmFtZSddLFxuICAgICAgICAgICAgYWJvdXQ6IGRhdGFbJ2Fib3V0J11cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChpbmZvKSA9PiB7XG4gICAgICAgICAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpbmZvLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGFib3V0OiBpbmZvLmFib3V0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBwcm9maWxlTmFtZUlucHV0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHByb2ZpbGVEZWZpbml0aW9uLnRleHRDb250ZW50ID0gcHJvZmlsZVRpdGxlSW5wdXQudmFsdWU7XG4gICAgICAgICAgICAgICAgcG9wdXBXaXRoSW5mb0Zvcm0uY2xvc2UoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LAg0L/RgNC4INC+0LHQvdC+0LLQu9C10L3QuNC4INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtS4g0J7RiNC40LHQutCwOiAke2Vycn1gKSk7XG4gICAgfVxufSk7XG4qL1xuXG5cbi8qXG5cbi8v0JLQkNCb0JjQlNCQ0KbQmNCvINCk0J7QoNCcINC90LAg0L7RgdC90L7QstC1INC60LvQsNGB0YHQsFxuY29uc3QgdmFsaWRhdGlvbkZvcm1DYXJkID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtQWRkRWxlbWVudCk7XG52YWxpZGF0aW9uRm9ybUNhcmQuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCB2YWxpZGF0aW9uRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVkaXRQcm9maWxlKTtcbnZhbGlkYXRpb25Gb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lOiBwcm9maWxlTmFtZSxcbiAgZGVmaW5pdGlvbjogcHJvZmlsZURlZmluaXRpb24sXG4gIGF2YXRhcjogdXNlckF2YXRhcixcbn0pO1xuXG5jb25zdCBpbWFnZU9wZW4gPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBJdGVtT3Blbik7XG5pbWFnZU9wZW4uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKGUpIHtcbiAgaW1hZ2VPcGVuLm9wZW4oZS50YXJnZXQpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVOZXdDYXJkKGRhdGEpIHtcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKFxuICAgIGRhdGEsXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxuICAgIGhhbmRsZUNhcmRDbGlja1xuICApLmdlbmVyYXRlQ2FyZCgpO1xuICByZXR1cm4gbmV3Q2FyZDtcbn1cblxuY29uc3QgY2FyZHMgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgLy8gaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgICByZW5kZXJlcjogKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRJdGVtID0gY3JlYXRlTmV3Q2FyZChkYXRhKTtcbiAgICAgIGNhcmRzLmFkZEl0ZW0oY2FyZEl0ZW0pO1xuICAgIH0sXG4gIH0sXG4gIGNhcmRzQ29udGFpbmVyXG4pO1xuY2FyZHMucmVuZGVySXRlbXMoKTtcblxuY29uc3QgcG9wdXBXaXRoQWRkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwRWxlbWVudEFkZCwgKGRhdGEpID0+IHtcbiAgY2FyZHMuYWRkSXRlbShjcmVhdGVOZXdDYXJkKGRhdGEpKTtcbn0pO1xucG9wdXBXaXRoQWRkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cFdpdGhQcm9maWxlRWRpdEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cFByb2ZpbGVFZGl0LCAoZGF0YSkgPT5cbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSlcbik7XG5wb3B1cFdpdGhQcm9maWxlRWRpdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxucHJvZmlsZUVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcG9wdXBXaXRoUHJvZmlsZUVkaXRGb3JtLm9wZW4oKTtcbiAgY29uc3QgeyBuYW1lLCBkZWZpbml0aW9uIH0gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlTmFtZUlucHV0LnZhbHVlID0gbmFtZTtcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSBkZWZpbml0aW9uO1xuICB2YWxpZGF0aW9uRm9ybS5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwV2l0aEFkZEZvcm0ub3BlbigpO1xuICB2YWxpZGF0aW9uRm9ybUNhcmQucmVzZXRWYWxpZGF0aW9uKCk7XG59KTsqL1xuXG4vLy8g0LfQsNC80LXRgtC60Lgg0L3QsCDQv9C+0LvRj9GFOlxuXG4vKtCc0LXRgtC+0LQgRWxlbWVudC5jbG9zZXN0KCkg0LLQvtC30LLRgNCw0YnQsNC10YIg0LHQu9C40LbQsNC50YjQuNC5INGA0L7QtNC40YLQtdC70YzRgdC60LjQuSDRjdC70LXQvNC10L3RgiAo0LjQu9C4INGB0LDQvCDRjdC70LXQvNC10L3RgiksXG4g0LrQvtGC0L7RgNGL0Lkg0YHQvtC+0YLQstC10YLRgdGC0LLRg9C10YIg0LfQsNC00LDQvdC90L7QvNGDIENTUy3RgdC10LvQtdC60YLQvtGA0YMg0LjQu9C4IG51bGwsINC10YHQu9C4INGC0LDQutC+0LLRi9GFINGN0LvQtdC80LXQvdGC0L7QsiDQstC+0L7QsdGJ0LUg0L3QtdGCLiovXG5cbi8q0JzQtdGC0L7QtCBwcmVwZW5kINC/0L7Qt9Cy0L7Qu9GP0LXRgiDQstGB0YLQsNCy0LjRgtGMINCyINC90LDRh9Cw0LvQviDQutCw0LrQvtCz0L4t0LvQuNCx0L4g0Y3Qu9C10LzQtdC90YLQsCDQtNGA0YPQs9C+0Lkg0Y3Qu9C10LzQtdC90YIuIFxu0J/QsNGA0LDQvNC10YLRgNC+0Lwg0LzQtdGC0L7QtCDQv9GA0LjQvdC40LzQsNC10YIg0Y3Qu9C10LzQtdC90YIsINC60LDQuiDQv9GA0LDQstC40LvQviDRgdC+0LfQtNCw0L3QvdGL0Lkg0YfQtdGA0LXQtyBjcmVhdGVFbGVtZW50LCDQu9C40LHQviDRgdGC0YDQvtC60YMuXG4g0JzQvtC20L3QviDQtNC+0LHQsNCy0LjRgtGMINGB0YDQsNC30YMg0L3QtdGB0LrQvtC70YzQutC+INGN0LvQtdC80LXQvdGC0L7QsiDQuNC70Lgg0YHRgtGA0L7Quiwg0L/QtdGA0LXRh9C40YHQu9C40LIg0LjRhSDRh9C10YDQtdC3INC30LDQv9GP0YLRg9GOLiovXG5cbi8qINCc0LXRgtC+0LQgRWxlbWVudC5hcHBlbmQoKSDQstGB0YLQsNCy0LvRj9C10YIg0YPQt9C70Ysg0LjQu9C4INGB0YLRgNC+0LrQuCDRgSDRgtC10LrRgdGC0L7QvCDQsiDQutC+0L3QtdGGIEVsZW1lbnQuIFxu0KHRgtGA0L7QutC4INGBINGC0LXQutGB0YLQvtC8INCy0YHRgtCw0LLQu9GP0Y7RgtGB0Y8g0LrQsNC6INGC0LXQutGB0YLQvtCy0L7QtSDRgdC+0LTQtdGA0LbQuNC80L7QtS4gKi9cblxuLyog0JzQtdGC0L7QtCAuY2xvbmVOb2RlKCkg0L7QsdGK0LXQutGC0LAgTm9kZSDRgdC+0LfQtNCw0LXRgiDQuCDQstC+0LfQstGA0LDRidCw0LXRgiDQutC+0L/QuNGOINGD0LfQu9CwLCDQtNC70Y8g0LrQvtGC0L7RgNC+0LPQviDQvtC9INCx0YvQuyDQstGL0LfQstCw0L0uKi9cblxuLyogc2V0QXR0cmlidXRlINC30LDQtNCw0LXRgiDQt9C90LDRh9C10L3QuNC1INCw0YLRgNC40LHRg9GC0LAg0YPQutCw0LfQsNC90L3QvtCz0L4g0Y3Qu9C10LzQtdC90YLQsC5cbiAg0JXRgdC70Lgg0LDRgtGA0LjQsdGD0YIg0YPQttC1INGB0YPRidC10YHRgtCy0YPQtdGCLCDQt9C90LDRh9C10L3QuNC1INC+0LHQvdC+0LLQu9GP0LXRgtGB0Y87IFxuICDQsiDQv9GA0L7RgtC40LLQvdC+0Lwg0YHQu9GD0YfQsNC1INC00L7QsdCw0LLQu9GP0LXRgtGB0Y8g0L3QvtCy0YvQuSDQsNGC0YDQuNCx0YPRgiDRgSDRg9C60LDQt9Cw0L3QvdGL0Lwg0LjQvNC10L3QtdC8INC4INC30L3QsNGH0LXQvdC40LXQvC4qL1xuXG4vKiDQnNC10YLQvtC0IGFkZEV2ZW50TGlzdGVuZXIoKSDQv9C+0LfQstC+0LvRj9C10YIg0LTQvtCx0LDQstC70Y/RgtGMINC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0YHQvtCx0YvRgtC40Lkg0Log0LvRjtCx0L7QvNGDINC+0LHRitC10LrRgtGDICovXG5cbi8q0JXRgdC70Lgg0LrQu9Cw0YHRgSDRg8Kg0Y3Qu9C10LzQtdC90YLQsCDQtdGB0YLRjCwg0LzQtdGC0L7QtCBjbGFzc0xpc3QudG9nZ2xlINCy0LXQtNGR0YIg0YHQtdCx0Y8g0LrQsNC6IGNsYXNzTGlzdC5yZW1vdmUg0LjCoNC60LvQsNGB0YEg0YPCoNGN0LvQtdC80LXQvdGC0LAg0YPQsdC40YDQsNC10YIuIFxu0JDCoNC10YHQu9C4INGD0LrQsNC30LDQvdC90L7Qs9C+INC60LvQsNGB0YHQsCDRg8Kg0Y3Qu9C10LzQtdC90YLQsCDQvdC10YIsINGC0L7CoGNsYXNzTGlzdC50b2dnbGUsINC60LDQuiDQuMKgY2xhc3NMaXN0LmFkZCwg0LTQvtCx0LDQstC70Y/QtdGCINGN0LvQtdC80LXQvdGC0YMg0Y3RgtC+0YIg0LrQu9Cw0YHRgS4qL1xuXG4vKiDQnNC10YLQvtC0IHByZXZlbnREZWZhdWx0ICgpINC40L3RgtC10YDRhNC10LnRgdCwIEV2ZW50INGB0L7QvtCx0YnQsNC10YIgVXNlciBhZ2VudCwg0YfRgtC+INC10YHQu9C4INGB0L7QsdGL0YLQuNC1INC90LUg0L7QsdGA0LDQsdCw0YLRi9Cy0LDQtdGC0YHRjyDRj9Cy0L3QvixcbiAg0LXQs9C+INC00LXQudGB0YLQstC40LUg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4g0L3QtSDQtNC+0LvQttC90L4g0LLRi9C/0L7Qu9C90Y/RgtGM0YHRjyDRgtCw0LosINC60LDQuiDQvtCx0YvRh9C90L4uKi9cblxuLyogLnRleHRDb250ZW50INC/0L7Qt9Cy0L7Qu9GP0LXRgiDQt9Cw0LTQsNCy0LDRgtGMINC40LvQuCDQv9C+0LvRg9GH0LDRgtGMINGC0LXQutGB0YLQvtCy0L7QtSDRgdC+0LTQtdGA0LbQuNC80L7QtSDRjdC70LXQvNC10L3RgtCwINC4INC10LPQviDQv9C+0YLQvtC80LrQvtCyLiovXG5cbi8qINCh0LLQvtC50YHRgtCy0L4gdmFsdWUg0YPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0LjQu9C4INCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC30L3QsNGH0LXQvdC40LUg0LDRgtGA0LjQsdGD0YLQsC4qL1xuXG4vKiDQnNC10YLQvtC0IGZvckVhY2goKSDQstGL0LfRi9Cy0LDQtdGCINGE0YPQvdC60YbQuNGOINC+0LTQuNC9INGA0LDQtyDQtNC70Y8g0LrQsNC20LTQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsCDQvNCw0YHRgdC40LLQsCDQv9C+INC/0L7RgNGP0LTQutGDLiovXG5cbi8qIGV4dGVuZHMgLS0g0JrQu9GO0YfQtdCy0L7QtSDRgdC70L7QstC+IGV4dGVuZHMg0LjRgdC/0L7Qu9GM0LfRg9C10YLRgdGPINCyINC+0LHRitGP0LLQu9C10L3QuNC4INC60LvQsNGB0YHQsCDQuNC70Lgg0LIg0LLRi9GA0LDQttC10L3QuNGP0YUg0LrQu9Cw0YHRgdCwINC00LvRjyDRgdC+0LfQtNCw0L3QuNGPINC00L7Rh9C10YDQvdC10LPQviDQutC70LDRgdGB0LAuKi9cblxuLyogc3VwZXIgLS0g0JrQu9GO0YfQtdCy0L7QtSDRgdC70L7QstC+IHN1cGVyINC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQtNC70Y8g0LLRi9C30L7QstCwINGE0YPQvdC60YbQuNC5LCDQv9GA0LjQvdCw0LTQu9C10LbQsNGJ0LjRhSDRgNC+0LTQuNGC0LXQu9GOINC+0LHRitC10LrRgtCwLiovXG5cbi8qINCa0L7Qu9Cx0Y3Qui3RhNGD0L3QutGG0LjRjyAo0LjQu9C4INC+0LHRgNCw0YLQvdGL0Lkg0LLRi9C30L7QsikgLS0g0Y3RgtC+INGE0YPQvdC60YbQuNGPLCDQv9C10YDQtdC00LDQvdC90LDRjyDQsiDQtNGA0YPQs9GD0Y4g0YTRg9C90LrRhtC40Y4g0LIg0LrQsNGH0LXRgdGC0LLQtSDQsNGA0LPRg9C80LXQvdGC0LAsXG4g0LrQvtGC0L7RgNCw0Y8g0LfQsNGC0LXQvCDQstGL0LfRi9Cy0LDQtdGC0YHRjyDQv9C+INC30LDQstC10YDRiNC10L3QuNGOINC60LDQutC+0LPQvi3Qu9C40LHQviDQtNC10LnRgdGC0LLQuNGPLiovXG5cblxuLypcbtCV0YHQu9C4INCx0YPQtNC10YIg0LjQvdGC0LXRgNC10YHQvdC+LCDQvNC+0LbQvdC+INGD0L3QuNCy0LXRgNGB0LDQu9GM0L3QviDRgdC+0LfQtNCw0YLRjCDRjdC60LfQtdC80L/Qu9GP0YDRiyDQstCw0LvQuNC00LDRgtC+0YDQvtCyINCy0YHQtdGFINGE0L7RgNC8LCDQv9C+0LzQtdGB0YLQuNCyINC40YUg0LLRgdC1INCyINC+0LTQuNC9INC+0LHRitC10LrRgiwgXG7QsCDQv9C+0YLQvtC8INCx0YDQsNGC0Ywg0LjQtyDQvdC10LPQviDQstCw0LvQuNC00LDRgtC+0YAg0L/QviDQsNGC0YDQuNCx0YPRgtGDIG5hbWUsINC60L7RgtC+0YDRi9C5INC30LDQtNCw0L0g0LTQu9GPINGE0L7RgNC80YsuINCt0YLQviDQvtGH0LXQvdGMINGD0L3QuNCy0LXRgNGB0LDQu9GM0L3QviDQuCDQtNC70Y8g0LvRjtCx0L7Qs9C+INC60L7Quy3QstCwINGE0L7RgNC8INC/0L7QtNGF0L7QtNC40YIuXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9XG5cbi8vINCS0LrQu9GO0YfQtdC90LjQtSDQstCw0LvQuNC00LDRhtC40LhcbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKVxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtZW50LCBjb25maWcpXG4vLyDQv9C+0LvRg9GH0LDQtdC8INC00LDQvdC90YvQtSDQuNC3INCw0YLRgNC40LHRg9GC0LAgYG5hbWVgINGDINGE0L7RgNC80YtcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpXG5cbiAgIC8vINCy0L7RgiDRgtGD0YIg0LIg0L7QsdGK0LXQutGCINC30LDQv9C40YHRi9Cy0LDQtdC8INC/0L7QtCDQuNC80LXQvdC10Lwg0YTQvtGA0LzRi1xuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcbiAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcblxuZW5hYmxlVmFsaWRhdGlvbihjb25maWcpO1xuIFxu0Jgg0YLQtdC/0LXRgNGMINC80L7QttC90L4g0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINCy0LDQu9C40LTQsNGC0L7RgNGLINC00LvRjyDQtNC10LDQutGC0LjQstCw0YbQuNC4INC60L3QvtC/0LrQuCDQuCDRgtC0XG5cbmZvcm1WYWxpZGF0b3JzWyBwcm9maWxlRm9ybS5nZXRBdHRyaWJ1dGUoJ25hbWUnKSBdLnJlc2V0VmFsaWRhdGlvbigpXG5cbi8vINC40LvQuCDQvNC+0LbQvdC+INC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDRgdGC0YDQvtC60YMgKNCy0LXQtNGMINCS0Ysg0LfQvdCw0LXRgtC1LCDQutCw0LrQvtC5INCw0YLRgNC40LHRg9GCIGBuYW1lYCDRgyDQutCw0LbQtNC+0Lkg0YTQvtGA0LzRiylcbmZvcm1WYWxpZGF0b3JzWydwcm9maWxlLWZvcm0nXS5yZXNldFZhbGlkYXRpb24oKVxuKi9cblxuLypcbi8vLyDQntGC0LrRgNGL0YLQuNC1INC30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9C+0LJcbmZ1bmN0aW9uIG9wZW5Qb3B1cChwb3B1cCkge1xuICBwb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZUJ5RXNjYXBlKTtcbiAgLy9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGNsb3NlQnlDbGlja092ZXJsYXkpO1xuICAvL2Nsb3NlQnlDbGlja092ZXJsYXkg0JLQsNC8INC90LUg0L3Rg9C20L3QsCwg0YLQsNC6INC60LDQuiDQvtCy0LXQu9C10Lkg0L7QsdGA0LDQsdCw0YLRi9Cy0LDQtdGC0YHRjyDRg9C90LjQstC10YDRgdCw0LvRjNC90L4g0YEg0LrRgNC10YHRgtC40LrQsNC80Lgg0YPQttC1INC90LAgMTM30Lkg0YHRgtGA0L7Rh9C60LVcbiAgLy92YWxpZGF0aW9uRm9ybS5yZXNldFZhbGlkYXRpb24oKTtcbiAgLy92YWxpZGF0aW9uRm9ybUNhcmQucmVzZXRWYWxpZGF0aW9uKCk7XG4gIC8vdmFsaWRhdGlvbkZvcm0uZGlzYWJsZVN1Ym1pdEJ0bigpO1xufVxuXG5mdW5jdGlvbiBjbG9zZVBvcHVwKHBvcHVwKSB7XG4gIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlQnlFc2NhcGUpO1xuICAvL3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgY2xvc2VCeUNsaWNrT3ZlcmxheSk7XG59XG5cbi8v0JfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0L3QsNC20LDRgtC40LXQvCDQvdCwIEVzY1xuZnVuY3Rpb24gY2xvc2VCeUVzY2FwZShlKSB7XG4gIGNvbnN0IGtleSA9IGUua2V5O1xuICBpZiAoa2V5ID09PSBcIkVzY2FwZVwiIHx8IGtleSA9PT0gXCJFc2NcIikge1xuICAgIGNvbnN0IG9wZW5lZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9vcGVuZWRcIik7XG4gICAgY2xvc2VQb3B1cChvcGVuZWRQb3B1cCk7XG4gIH1cbn1cblxuLy/Ql9Cw0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQvdCw0LbQsNGC0LjQtdC8INC90LAg0L7QstC10YDQu9C10LlcblxuZnVuY3Rpb24gY2xvc2VCeUNsaWNrT3ZlcmxheShlKSB7XG4gIGlmIChlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0KSB7XG4gICAgY2xvc2VQb3B1cChlLmN1cnJlbnRUYXJnZXQpO1xuICB9XG59XG5cblxuLy8g0J7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0L/RgNC+0YHQvNC+0YLRgNCwINC60LDRgNGC0LjQvdC+0LpcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG9wZW5JbWFnZShuYW1lLCBsaW5rKSB7XG4gIGltYWdlRWxlbVRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcbiAgaW1hZ2VFbGVtSW1hZ2Uuc3JjID0gbGluaztcbiAgaW1hZ2VFbGVtVGl0bGUuYWx0ID0gbmFtZTtcbiAgb3BlblBvcHVwKHBvcHVwSXRlbU9wZW4pO1xufVxuXG4vL9GA0LXQvdC00LXRgCDQutCw0YDRgtC+0YfQtdC6XG5mdW5jdGlvbiByZW5kZXJFbGVtZW50KGRhdGEpIHtcbiAgLy8g0YHQvtC30LTQsNC90LjQtSDQutCw0YDRgtC+0YfQtdC6INGBINC/0L7QvNC+0YnRjNGOINC60LvQsNGB0YHQsFxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgXCIjY2FyZC10ZW1wbGF0ZVwiLCBvcGVuSW1hZ2UpO1xuICBjb25zdCB0ZW1wbGF0ZUVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICByZXR1cm4gdGVtcGxhdGVFbGVtZW50O1xufVxuaW5pdGlhbENhcmRzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgY2FyZHNDb250YWluZXIuYXBwZW5kKHJlbmRlckVsZW1lbnQoaXRlbSkpO1xufSk7XG5cbi8vINGELdC40Y8g0YHQvtGF0YDQsNC90LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuCDRgSDQtNCw0L3QvdGL0LzQuCDQsiDRhNC+0YDQvNGDXG5mdW5jdGlvbiBoYW5kbGVGb3JtU3VibWl0Q2FyZChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIC8vINGB0LDQvNC4INGB0L7Qt9C00LDQtdC8INC+0LHRitC10LrRgiwg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXQvCDQv9C10YDQtdC00LDQstCw0YLRjCDQsiByZW5kZXJFbGVtZW50XG4gIGNvbnN0IGVsZW1lbnRDYXJkID0ge1xuICAgIG5hbWU6IGNhcmRUaXRsZS52YWx1ZSxcbiAgICBsaW5rOiBjYXJkVVJMLnZhbHVlLFxuICB9O1xuICBjYXJkc0NvbnRhaW5lci5wcmVwZW5kKHJlbmRlckVsZW1lbnQoZWxlbWVudENhcmQpKTsgLy8g0LTQvtCx0LDQstC70Y/QtdC8INC90L7QstGD0Y4g0LrQsNGA0YLQvtGH0LrRg1xuXG4gIHJlbmRlckVsZW1lbnQoZWxlbWVudENhcmQsIGNhcmRzQ29udGFpbmVyKTtcbiAgY2xvc2VQb3B1cChwb3B1cEVsZW1lbnRBZGQpO1xuICBmb3JtQWRkRWxlbWVudC5yZXNldCgpOyAvL9GB0LHRgNC+0YEg0L/QvtC70LXQuSDQuNC90L/Rg9GC0L7QslxufVxuXG4vLyDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LBcbmZ1bmN0aW9uIG9wZW5FZGl0UG9wdXAoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIHByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudDtcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSBwcm9maWxlRGVmaW5pdGlvbi50ZXh0Q29udGVudDtcblxuICB2YWxpZGF0aW9uRm9ybS5yZXNldFZhbGlkYXRpb24oKTtcbiAgLy92YWxpZGF0aW9uRm9ybS5hY3RpdmF0ZUJ1dHRvbigpO1xuXG4gIG9wZW5Qb3B1cChwb3B1cFByb2ZpbGVFZGl0KTtcbn1cblxuLy8vINCa0L3QvtC/0LrQsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDRhNC+0YLQvtCz0YDQsNGE0LjQuFxuXG5mdW5jdGlvbiBvcGVuQWRkUG9wdXAoKSB7XG4gIG9wZW5Qb3B1cChwb3B1cEVsZW1lbnRBZGQpO1xuICB2YWxpZGF0aW9uRm9ybUNhcmQucmVzZXRWYWxpZGF0aW9uKCk7XG4gIC8vZm9ybUFkZENhcmQucmVzZXQoKTtcbn1cblxuLy8g0JjQt9C80LXQvdC10L3QuNC1INC00LDQvdC90YvRhSDQuNC80LXQvdC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDRhNC+0YDQvNGLLCBwcmV2ZW50RGVmYXVsdCDRgdCx0YDQsNGB0YvQstCw0LXRgiDQt9C90LDRh9C10L3QuNGPINGE0L7RgNC80Ysg0LTQviDQtNC10YTQvtC70YLQvdGL0YVcblxuZnVuY3Rpb24gc2F2ZVByb2ZpbGVJbmZvKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gcHJvZmlsZU5hbWVJbnB1dC52YWx1ZTtcbiAgcHJvZmlsZURlZmluaXRpb24udGV4dENvbnRlbnQgPSBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZTtcblxuICBjbG9zZVBvcHVwKHBvcHVwUHJvZmlsZUVkaXQpO1xufVxuXG5wb3B1cHMuZm9yRWFjaCgocG9wdXApID0+IHtcbiAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikpIHtcbiAgICAgIGNsb3NlUG9wdXAocG9wdXApO1xuICAgIH1cbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2Nsb3NlXCIpKSB7XG4gICAgICBjbG9zZVBvcHVwKHBvcHVwKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbmZvcm1FZGl0UHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHNhdmVQcm9maWxlSW5mbyk7XG5wcm9maWxlRWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3BlbkVkaXRQb3B1cCk7XG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuQWRkUG9wdXApO1xucG9wdXBFbGVtZW50QWRkLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRm9ybVN1Ym1pdENhcmQpO1xuKi9cblxuLypcbnBvcHVwV2l0aFByb2ZpbGVFZGl0Rm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwV2l0aEFkZEZvcm0ub3BlbigpO1xufSk7XG5cbnBvcHVwQ2xvc2VCdXR0b25Qcm9maWxlRWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cFdpdGhQcm9maWxlRWRpdEZvcm0uY2xvc2UoKTtcbn0pO1xuXG5wb3B1cENsb3NlQnV0dG9uQWRkQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cFdpdGhBZGRGb3JtLmNsb3NlKCk7XG59KTtcbiovXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgICB9XG4gICAgLy8g0L/RgNC40LLQsNGC0L3Ri9C5INC80LXRgtC+0LQg0L7RgtC/0YDQsNCy0LvRj9GO0YnQuNC5INC30LDQv9GA0L7RgSDQtNC70Y8g0L7QsdGA0LDQsdC+0YLQutC4INC+0YjQuNCx0L7QulxuICAgIF9zZW50UmVzcG9uc2UocmVzKSB7XG4gICAgICAgIGlmKHJlcy5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vINCX0LDQs9GA0YPQt9C60LAg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INGBINGB0LXRgNCy0LXRgNCwXG4gICAgZ2V0VXNlckluZm8oKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbih0aGlzLl9zZW50UmVzcG9uc2UpXG4gICAgfVxuICAgIC8vINCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0L/RgNC+0YTQuNC70Y9cbiAgICB1cGRhdGVVc2VySW5mbyhkYXRhKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgIGFib3V0OiBkYXRhLmFib3V0LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX3NlbnRSZXNwb25zZSlcbiAgICB9XG4gICAgLy8g0JfQsNCz0YDRg9C30LrQsCDQutCw0YDRgtC+0YfQtdC6INGBINGB0LXRgNCy0LXRgNCwXG4gICAgZ2V0Q2FyZHMoKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbih0aGlzLl9zZW50UmVzcG9uc2UpXG4gICAgfVxuICAgIC8vINC+0LHRitC10LTQuNC90LXQvdC40LUg0LTQstGD0YUg0LfQsNC/0YDQvtGB0L7QsiDQsiDQvtC00LjQvSDQv9GA0L7QvNC40YEg0LTQu9GPINC+0LTQvdC+0LLRgNC10LzQtdC90L3QvtC5INC+0LHRgNCw0LHQvtGC0LrQuFxuICAvKiAgZ2V0RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLnVwZGF0ZVVzZXJJbmZvKCksIHRoaXMuZ2V0Q2FyZHMoKV0pO1xuICAgIH0qL1xuICAgIC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxuICAgIGFkZE5ld0NhcmQoZGF0YSkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgIGxpbms6IGRhdGEubGluayxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbih0aGlzLl9zZW50UmVzcG9uc2UpXG4gICAgfVxuICAgICAgICAvLyDQn9C+0YHRgtCw0L3QvtCy0LrQsCDQu9Cw0LnQutCwXG4gICAgbGlrZUNhcmQoaWQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7aWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX3NlbnRSZXNwb25zZSlcbiAgICB9XG4gICAgICAgIC8vINCh0L3Rj9GC0LjQtSDQu9Cw0LnQutCwXG4gICAgZGlzbGlrZUNhcmQoaWQpe1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtpZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4odGhpcy5fc2VudFJlc3BvbnNlKVxuICAgIH1cbiAgICAvLyDQo9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LhcbiAgICBkZWxldGVDYXJkKGlkKXtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX3NlbnRSZXNwb25zZSlcbiAgICB9XG4gICAgLy8g0J7QsdC90L7QstC70LXQvdC40LUg0LDQstCw0YLQsNGA0LAg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gICAgdXBkYXRlQXZhdGFyKGRhdGEpe1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX3NlbnRSZXNwb25zZSlcbiAgICB9XG59XG5cblxuXG4vLy8g0LfQsNC80LXRgtC60Lgg0L3QsCDQv9C+0LvRj9GFOlxuLy8g0J/QtdGA0LLRi9C5INCw0YDQs9GD0LzQtdC90YIg0LzQtdGC0L7QtNCwIC50aGVuIOKAkyDRhNGD0L3QutGG0LjRjywg0LrQvtGC0L7RgNCw0Y8g0LLRi9C/0L7Qu9C90Y/QtdGC0YHRjywg0LrQvtCz0LTQsCDQv9GA0L7QvNC40YEg0L/QtdGA0LXRhdC+0LTQuNGCINCyINGB0L7RgdGC0L7Rj9C90LjQtSDCq9Cy0YvQv9C+0LvQvdC10L0g0YPRgdC/0LXRiNC90L7Cuywg0Lgg0L/QvtC70YPRh9Cw0LXRgiDRgNC10LfRg9C70YzRgtCw0YIuXG4vLyDQktGC0L7RgNC+0Lkg0LDRgNCz0YPQvNC10L3RgiAudGhlbiDigJMg0YTRg9C90LrRhtC40Y8sINC60L7RgtC+0YDQsNGPINCy0YvQv9C+0LvQvdGP0LXRgtGB0Y8sINC60L7Qs9C00LAg0L/RgNC+0LzQuNGBINC/0LXRgNC10YXQvtC00LjRgiDQsiDRgdC+0YHRgtC+0Y/QvdC40LUgwqvQstGL0L/QvtC70L3QtdC9INGBINC+0YjQuNCx0LrQvtC5wrssINC4INC/0L7Qu9GD0YfQsNC10YIg0L7RiNC40LHQutGDLlxuLy8g0JzQtdGC0L7QtCBQcm9taXNlLmFsbCDQv9GA0LjQvdC40LzQsNC10YIg0LzQsNGB0YHQuNCyINC/0YDQvtC80LjRgdC+0LIg0Lgg0LLQvtC30LLRgNCw0YnQsNC10YIg0L3QvtCy0YvQuSDQv9GA0L7QvNC40YEuXG5cbi8v0JrQsNC20LTRi9C5INC80LXRgtC+0LQsINCy0LrQu9GO0YfQsNGO0YnQuNC5INC+0LHRgNCw0YnQtdC90LjQtSDQuiDRgdC10YDQstC10YDRgyDRgdC+0LTQtdGA0LbQuNGCIHJldHVybiBmZXRjaCwg0YIu0LUg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCIFByb21pc2VcblxuLy8g0JIgbmFtZSDQtNC+0LvQttC90L4g0LHRi9GC0Ywg0L3QsNC30LLQsNC90LjQtSDRgdC+0LfQtNCw0LLQsNC10LzQvtC5INC60LDRgNGC0L7Rh9C60LgsINCwINCyIGxpbmsg4oCUINGB0YHRi9C70LrQsCDQvdCwINC60LDRgNGC0LjQvdC60YMuXG4vLyDQoyDQutCw0LbQtNC+0Lkg0LrQsNGA0YLQvtGH0LrQuCDQtdGB0YLRjCDRgdCy0L7QudGB0YLQstC+IGxpa2VzIOKAlCDQvtC90L4g0YHQvtC00LXRgNC20LjRgiDQvNCw0YHRgdC40LIg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C10LksINC70LDQudC60L3Rg9Cy0YjQuNGFINC60LDRgNGC0L7Rh9C60YNcbiIsImltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpXCI7XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcItCQ0YDRhdGL0LdcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YxcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCY0LLQsNC90L7QstC+XCIsXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JrQsNC80YfQsNGC0LrQsFwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L1cIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCR0LDQudC60LDQu1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGdcIixcbiAgfSxcbl07XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIGVycm9yU2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dC1lcnJvclwiLFxuICBzdWJtaXRCdG5TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvbl9hY3RpdmVfc3VibWl0XCIsXG4gIGluYWN0aXZlQnRuQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXG59O1xuXG4vLyDQn9C10YDQtdC80LXQvdC90YvQtTpcblxuXG5leHBvcnQgY29uc3QgdXNlckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IGF2YXRhckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwQWRkQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9hdmF0YXItY2hhbmdlXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwQWRkQXZhdGFyRm9ybSA9IHBvcHVwQWRkQXZhdGFyLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fYXZhdGFyXCIpO1xuXG5leHBvcnQgY29uc3QgcG9wdXBEZWxldGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9kZWxldGVcIik7XG5leHBvcnQgY29uc3QgcG9wdXBEZWxldGVDYXJkRm9ybSA9IHBvcHVwRGVsZXRlQ2FyZC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX2RlbGV0ZS1jYXJkXCIpO1xuXG5cblxuXG4vL3Byb2ZpbGVcbmV4cG9ydCBjb25zdCBmb3JtRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX3Byb2ZpbGVcIik7XG5cbi8vINC80LXRgtC+0LQgcXVlcnlTZWxlY3RvcigpINCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC/0LXRgNCy0YvQuSDRjdC70LXQvNC10L3RgiAoRWxlbWVudCkg0LTQvtC60YPQvNC10L3RgtCwLCDQutC+0YLQvtGA0YvQuSDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0LXRgiDRg9C60LDQt9Cw0L3QvdC+0LzRgyDRgdC10LvQtdC60YLQvtGA0YMg0LjQu9C4INCz0YDRg9C/0L/QtSDRgdC10LvQtdC60YLQvtGA0L7Qsi5cbi8v0JXRgdC70Lgg0YHQvtCy0L/QsNC00LXQvdC40Lkg0L3QtSDQvdCw0LnQtNC10L3Qviwg0LLQvtC30LLRgNCw0YnQsNC10YIg0LfQvdCw0YfQtdC90LjQtSBudWxsLlxuXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19idXR0b25fYWN0aXZlX2VkaXRcIlxuKTsgLy/QutC90L7Qv9C60LAsINC+0YLQutGA0YvQstCw0Y7RidCw0Y8g0L/QvtC/0LDQvyDRgSDQuNC90YTQvtGA0LzQsNGG0LjQtdC5INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtVxuZXhwb3J0IGNvbnN0IHByb2ZpbGVBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19idXR0b25fYWN0aXZlX2FkZFwiXG4pOyAvL9C60L3QvtC/0LrQsCwg0L7RgtC60YDRi9Cy0LDRjtGJ0LDRjyDQv9C+0L/QsNC/INGBINCy0L7Qt9C80L7QttC90L7RgdGC0YzRjiDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5cbi8vZWxlbWVudHNcbmV4cG9ydCBjb25zdCBmb3JtQWRkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fZWxlbWVudFwiKTtcbmV4cG9ydCBjb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYXJkID0gZG9jdW1lbnRcbiAgLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKVxuICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIik7XG4vL9Ct0LvQtdC80LXQvdGCIDx0ZW1wbGF0ZT4g0L/RgNC10LTQvdCw0LfQvdCw0YfQtdC9INC00LvRjyDRhdGA0LDQvdC10L3QuNGPIMKr0L7QsdGA0LDQt9GG0LDCuyDRgNCw0LfQvNC10YLQutC4LCDQvdC10LLQuNC00LjQvNC+0LPQviDQuCDQv9GA0LXQtNC90LDQt9C90LDRh9C10L3QvdC+0LPQviDQtNC70Y8g0LLRgdGC0LDQstC60Lgg0LrRg9C00LAt0LvQuNCx0L4uXG4vL9Ch0L7QtNC10YDQttC40LzQvtC1INGC0LXQs9CwIDx0ZW1wbGF0ZT4g0L7QsdGA0LDQsdCw0YLRi9Cy0LDQtdGC0YHRjyDQsdGA0LDRg9C30LXRgNC+0LwuINCe0L3QviDQtNC+0YHRgtGD0L/QvdC+INC60LDQuiBEb2N1bWVudEZyYWdtZW50INCyINGB0LLQvtC50YHRgtCy0LUg0YLQtdCz0LAgY29udGVudC4g0J/RgNC10LTQv9C+0LvQsNCz0LDQtdGC0YHRjyxcbi8v0YfRgtC+INC80YssINC/0YDQuCDQvdC10L7QsdGF0L7QtNC40LzQvtGB0YLQuCwg0LLQvtC30YzQvNGR0LwgY29udGVudCDQuCDQstGB0YLQsNCy0LjQvCwg0LrRg9C00LAg0L3QsNC00L4uXG5cbi8vcG9wdXBcbmV4cG9ydCBjb25zdCBwb3B1cFByb2ZpbGVFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9wcm9maWxlXCIpOyAvL9C/0L7Qv9Cw0L8g0YEg0LLQvtC30LzQvtC20L3QvtGB0YLRjNGOINC40YHQv9GA0LDQstC40YLRjCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcbmV4cG9ydCBjb25zdCBwb3B1cEVsZW1lbnRBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2VsZW1lbnRcIik7IC8v0L/QvtC/0LDQvyDQv9C+0LfQstC+0LvRj9GO0YnQuNC5INC00L7QsdCw0LLQuNGC0Ywg0YTQvtGC0L4gIVxuZXhwb3J0IGNvbnN0IHBvcHVwSXRlbU9wZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2ltZ1wiKTsgLy/Qv9C+0L/QsNC/INC+0YLQutGA0YvQstCw0Y7RidC40Lkg0YTQvtGC0L5cblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVUaXRsZSA9IHBvcHVwUHJvZmlsZUVkaXQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fdGl0bGVcIik7XG5leHBvcnQgY29uc3QgZWxlbWVudFRpdGxlID0gcG9wdXBFbGVtZW50QWRkLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3RpdGxlXCIpO1xuXG5leHBvcnQgY29uc3QgaXRlbU9wZW5JbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2l0ZW1cIik7XG5leHBvcnQgY29uc3QgaXRlbU9wZW5UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2l0ZW0tc3ViamVjdFwiKTtcblxuZXhwb3J0IGNvbnN0IGltYWdlRWxlbVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faXRlbS1zdWJqZWN0XCIpO1xuZXhwb3J0IGNvbnN0IGltYWdlRWxlbUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faXRlbVwiKTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpOyAvL9C40LzRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbmV4cG9ydCBjb25zdCBwcm9maWxlRGVmaW5pdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVmaW5pdGlvblwiKTsgLy/RgNC+0LQg0LTQtdGP0YLQtdC70YzQvdC+0YHRgtC4XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IGZvcm1FZGl0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKFxuICBcIi5wb3B1cF9faW5wdXRfcHJvZmlsZV9uYW1lXCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVRpdGxlSW5wdXQgPSBmb3JtRWRpdFByb2ZpbGUucXVlcnlTZWxlY3RvcihcbiAgXCIucG9wdXBfX2lucHV0X3Byb2ZpbGVfdGl0bGVcIlxuKTtcblxuZXhwb3J0IGNvbnN0IHNhdmVDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucG9wdXBfX2J1dHRvbl9hY3RpdmVfc2F2ZV9jYXJkXCJcbik7XG5leHBvcnQgY29uc3QgZm9ybUFkZENhcmQgPSBwb3B1cEVsZW1lbnRBZGQucXVlcnlTZWxlY3RvcihcbiAgXCIucG9wdXBfX2Zvcm1fZWxlbWVudFwiXG4pO1xuXG5leHBvcnQgY29uc3QgY2FyZFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfZWxlbWVudF9uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IGNhcmRVUkwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF9lbGVtZW50X3VybFwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcblxuZXhwb3J0IGNvbnN0IHBvcHVwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBcIik7XG5cbmV4cG9ydCBjb25zdCBwb3B1cENsb3NlQnV0dG9uUHJvZmlsZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKTtcblxuZXhwb3J0IGNvbnN0IHBvcHVwQ2xvc2VCdXR0b25BZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uX2FjdGl2ZV9leGl0XCIpXG4iXSwibmFtZXMiOlsiQ2FyZCIsImRhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlQ2FyZExpa2UiLCJoYW5kbGVEZWxldGVDYXJkIiwiaGFuZGxlQ2FyZExpa2VEZWxldGUiLCJ0aGlzIiwiX2RhdGEiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9pZCIsIl9vd25lcklkIiwib3duZXIiLCJfdXNlciIsInVzZXIiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlQ2FyZExpa2UiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9oYW5kbGVDYXJkTGlrZURlbGV0ZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2VsZW1lbnRMaWtlQnV0dG9uIiwicXVlcnlTZWxlY3RvciIsIl9lbGVtZW50TGlrZUNvdW50ZXIiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJyZW1vdmUiLCJsZW5ndGgiLCJ0ZXh0Q29udGVudCIsImZvckVhY2giLCJsaWtlIiwiY2xhc3NMaXN0IiwiYWRkIiwiX2ltYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5zIiwiX3NldEV2ZW50TGlzdGVuZXIiLCJfbGlrZUFjdGl2ZSIsInNyYyIsImFsdCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZWxlbWVudCIsInByZXBlbmQiLCJyZXZlcnNlIiwiaXRlbSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZSIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfcG9wdXBGb3JtIiwiY29uc29sZSIsImxvZyIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvbiIsIl9oYW5kbGVGb3JtU3VibWl0IiwiaXNMb2FkaW5nIiwiZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJzb21lIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsImlkIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9hY3RpdmF0ZUJ1dHRvbiIsIl9kZWFjdGl2YXRlQnV0dG9uIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfdG9nZ2xlQnRuU3RhdGUiLCJzZXRUaW1lb3V0IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfZXJyb3JTZWxlY3RvciIsImVycm9yU2VsZWN0b3IiLCJfc3VibWl0QnRuU2VsZWN0b3IiLCJzdWJtaXRCdG5TZWxlY3RvciIsIl9pbmFjdGl2ZUJ0bkNsYXNzIiwiaW5hY3RpdmVCdG5DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJBcnJheSIsImZyb20iLCJfYnRuRWxlbWVudCIsImRpc2FibGVkIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiX2NhcmQiLCJjYXJkIiwiVXNlckluZm8iLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZURlZmluaXRpb24iLCJhYm91dCIsIl91c2VyQXZhdGFyIiwiYXZhdGFyIiwiX3VzZXJJbmZvIiwibmV3VXNlckRhdGEiLCJ1c2VySWQiLCJBcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9zZW50UmVzcG9uc2UiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImF2YXRhckNvbnRhaW5lciIsInBvcHVwQWRkQXZhdGFyIiwicG9wdXBBZGRBdmF0YXJGb3JtIiwicG9wdXBEZWxldGVDYXJkRm9ybSIsImZvcm1FZGl0UHJvZmlsZSIsInByb2ZpbGVFZGl0IiwicHJvZmlsZUFkZEJ1dHRvbiIsImZvcm1BZGRFbGVtZW50IiwicG9wdXBQcm9maWxlRWRpdCIsInBvcHVwRWxlbWVudEFkZCIsInBvcHVwSXRlbU9wZW4iLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZWZpbml0aW9uIiwicHJvZmlsZU5hbWVJbnB1dCIsInByb2ZpbGVUaXRsZUlucHV0IiwicG9wdXBDbG9zZUJ1dHRvblByb2ZpbGVFZGl0IiwicG9wdXBDbG9zZUJ1dHRvbkFkZENhcmQiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwidmFsaWRhdGlvbkZvcm1DYXJkIiwiZW5hYmxlVmFsaWRhdGlvbiIsInZhbGlkYXRpb25Gb3JtIiwidmFsaWRhdGlvbkF2YXRhckZvcm0iLCJjYXJkcyIsImNhcmRJdGVtIiwiaGFuZGxlTmV3Q2FyZCIsImdlbmVyYXRlQ2FyZCIsImFkZEl0ZW0iLCJkYXRhVXNlckluZm8iLCJ1c2VyQXZhdGFyIiwiaW1hZ2VPcGVuIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cFdpdGhJbmZvRm9ybSIsInJlbmRlckxvYWRpbmciLCJ1cGRhdGVVc2VySW5mbyIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJjYXRjaCIsImVyciIsImZpbmFsbHkiLCJwb3B1cFdpdGhBZGRGb3JtIiwiYWRkTmV3Q2FyZCIsIm9wZW4iLCJyZXNldFZhbGlkYXRpb24iLCJwb3B1cFJlbW92ZUNhcmQiLCJkZWxldGVDYXJkIiwicG9wdXBFZGl0QXZhdGFyIiwidXBkYXRlQXZhdGFyIiwibmV3Q2FyZCIsImxpa2VDYXJkIiwibGlrZXNMZW5ndGgiLCJpc0xpa2VkIiwiZGlzbGlrZUNhcmQiLCJkaXNsaWtlIiwiYWxsIiwiZ2V0Q2FyZHMiLCJpbmZvIiwiaW5pdGlhbENhcmRzIiwicmVuZGVySXRlbXMiLCJnZXRVc2VySW5mbyJdLCJzb3VyY2VSb290IjoiIn0=